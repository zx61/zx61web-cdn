import{d as G}from"./chunk-bb59191b.js";import{bp as Ze,br as Je,bL as Wt,bM as xt,aL as Me,$ as Pe,a1 as ce,aA as fa,ao as pa,d as Ve,bN as Tt,aq as Ke,a7 as Te,a5 as va,aM as qe,r as Z,aa as R,W as Ie,aj as Ye,ab as It,bO as ma,bP as ha,a6 as ba,h as e,bQ as ya,aT as wt,o as _,k as we,w as oe,J as h,af as Yt,Y as We,K as he,N as ft,j as ve,c as K,b as z,aE as it,t as fe,aW as Kt,bc as ga,ag as ze,ba as ge,bR as ka,ac as wa,F as ke,m as _e,l as Ge,bb as Da,as as Ee,i as W,av as Sa,at as Ca,ax as Ma,b1 as Pa,ad as ot,bS as zt,aR as Ut,bT as _a,aU as rt,b5 as lt,bj as ct,bm as Dt,bn as mt,bl as dt,z as bt,aD as St,am as Ht,g as $a}from"./chunk-a0327024.js";import{E as Qe}from"./chunk-9ab6077c.js";import{i as Ta,d as Va,f as Oa,C as Ct}from"./chunk-150316ab.js";import{v as Rt}from"./chunk-3b873247.js";const xa=["year","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],et=r=>!r&&r!==0?[]:Array.isArray(r)?r:[r];var jt={exports:{}};(function(r,u){(function(n,a){r.exports=a()})(Ze,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},a=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,p=/\d\d/,m=/\d\d?/,y=/\d*[^-_:/,()\s\d]+/,w={},g=function(s){return(s=+s)+(s>68?1900:2e3)},C=function(s){return function(v){this[s]=+v}},O=[/[+-]\d\d:?(\d\d)?|Z/,function(s){(this.zone||(this.zone={})).offset=function(v){if(!v||v==="Z")return 0;var x=v.match(/([+-]|\d\d)/g),M=60*x[1]+(+x[2]||0);return M===0?0:x[0]==="+"?-M:M}(s)}],D=function(s){var v=w[s];return v&&(v.indexOf?v:v.s.concat(v.f))},b=function(s,v){var x,M=w.meridiem;if(M){for(var f=1;f<=24;f+=1)if(s.indexOf(M(f,0,v))>-1){x=f>12;break}}else x=s===(v?"pm":"PM");return x},i={A:[y,function(s){this.afternoon=b(s,!1)}],a:[y,function(s){this.afternoon=b(s,!0)}],S:[/\d/,function(s){this.milliseconds=100*+s}],SS:[p,function(s){this.milliseconds=10*+s}],SSS:[/\d{3}/,function(s){this.milliseconds=+s}],s:[m,C("seconds")],ss:[m,C("seconds")],m:[m,C("minutes")],mm:[m,C("minutes")],H:[m,C("hours")],h:[m,C("hours")],HH:[m,C("hours")],hh:[m,C("hours")],D:[m,C("day")],DD:[p,C("day")],Do:[y,function(s){var v=w.ordinal,x=s.match(/\d+/);if(this.day=x[0],v)for(var M=1;M<=31;M+=1)v(M).replace(/\[|\]/g,"")===s&&(this.day=M)}],M:[m,C("month")],MM:[p,C("month")],MMM:[y,function(s){var v=D("months"),x=(D("monthsShort")||v.map(function(M){return M.slice(0,3)})).indexOf(s)+1;if(x<1)throw new Error;this.month=x%12||x}],MMMM:[y,function(s){var v=D("months").indexOf(s)+1;if(v<1)throw new Error;this.month=v%12||v}],Y:[/[+-]?\d+/,C("year")],YY:[p,function(s){this.year=g(s)}],YYYY:[/\d{4}/,C("year")],Z:O,ZZ:O};function d(s){var v,x;v=s,x=w&&w.formats;for(var M=(s=v.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(J,j,Q){var re=Q&&Q.toUpperCase();return j||x[Q]||n[Q]||x[re].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(U,ae,me){return ae||me.slice(1)})})).match(a),f=M.length,P=0;P<f;P+=1){var B=M[P],F=i[B],q=F&&F[0],V=F&&F[1];M[P]=V?{regex:q,parser:V}:B.replace(/^\[|\]$/g,"")}return function(J){for(var j={},Q=0,re=0;Q<f;Q+=1){var U=M[Q];if(typeof U=="string")re+=U.length;else{var ae=U.regex,me=U.parser,be=J.slice(re),H=ae.exec(be)[0];me.call(j,H),J=J.replace(H,"")}}return function(A){var o=A.afternoon;if(o!==void 0){var k=A.hours;o?k<12&&(A.hours+=12):k===12&&(A.hours=0),delete A.afternoon}}(j),j}}return function(s,v,x){x.p.customParseFormat=!0,s&&s.parseTwoDigitYear&&(g=s.parseTwoDigitYear);var M=v.prototype,f=M.parse;M.parse=function(P){var B=P.date,F=P.utc,q=P.args;this.$u=F;var V=q[1];if(typeof V=="string"){var J=q[2]===!0,j=q[3]===!0,Q=J||j,re=q[2];j&&(re=q[2]),w=this.$locale(),!J&&re&&(w=x.Ls[re]),this.$d=function(be,H,A){try{if(["x","X"].indexOf(H)>-1)return new Date((H==="X"?1e3:1)*be);var o=d(H)(be),k=o.year,N=o.month,l=o.day,S=o.hours,E=o.minutes,X=o.seconds,ee=o.milliseconds,de=o.zone,le=new Date,ue=l||(k||N?1:le.getDate()),se=k||le.getFullYear(),Se=0;k&&!N||(Se=N>0?N-1:le.getMonth());var ye=S||0,$e=E||0,De=X||0,Oe=ee||0;return de?new Date(Date.UTC(se,Se,ue,ye,$e,De,Oe+60*de.offset*1e3)):A?new Date(Date.UTC(se,Se,ue,ye,$e,De,Oe)):new Date(se,Se,ue,ye,$e,De,Oe)}catch{return new Date("")}}(B,V,F),this.init(),re&&re!==!0&&(this.$L=this.locale(re).$L),Q&&B!=this.format(V)&&(this.$d=new Date("")),w={}}else if(V instanceof Array)for(var U=V.length,ae=1;ae<=U;ae+=1){q[1]=V[ae-1];var me=x.apply(this,q);if(me.isValid()){this.$d=me.$d,this.$L=me.$L,this.init();break}ae===U&&(this.$d=new Date(""))}else f.call(this,P)}}})})(jt);var Ia=jt.exports;const Ya=Je(Ia),At=["hours","minutes","seconds"],Nt="HH:mm:ss",st="YYYY-MM-DD",Ra={date:st,dates:st,week:"gggg[w]ww",year:"YYYY",month:"YYYY-MM",datetime:`${st} ${Nt}`,monthrange:"YYYY-MM",daterange:st,datetimerange:`${st} ${Nt}`},yt=(r,u)=>[r>0?r-1:void 0,r,r<u?r+1:void 0],Gt=r=>Array.from(Array.from({length:r}).keys()),qt=r=>r.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),Zt=r=>r.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),Et=function(r,u){const n=xt(r),a=xt(u);return n&&a?r.getTime()===u.getTime():!n&&!a?r===u:!1},Ft=function(r,u){const n=Me(r),a=Me(u);return n&&a?r.length!==u.length?!1:r.every((p,m)=>Et(p,u[m])):!n&&!a?Et(r,u):!1},Lt=function(r,u,n){const a=Wt(u)||u==="x"?G(r).locale(n):G(r,u).locale(n);return a.isValid()?a:void 0},Bt=function(r,u,n){return Wt(u)?r:u==="x"?+r:G(r).locale(n).format(u)},gt=(r,u)=>{var n;const a=[],p=u==null?void 0:u();for(let m=0;m<r;m++)a.push((n=p==null?void 0:p.includes(m))!=null?n:!1);return a},Jt=Pe({disabledHours:{type:ce(Function)},disabledMinutes:{type:ce(Function)},disabledSeconds:{type:ce(Function)}}),Aa=Pe({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),Xt=Pe({id:{type:ce([Array,String])},name:{type:ce([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:ce([String,Object]),default:fa},editable:{type:Boolean,default:!0},prefixIcon:{type:ce([String,Object]),default:""},size:pa,readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},placeholder:{type:String,default:""},popperOptions:{type:ce(Object),default:()=>({})},modelValue:{type:ce([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:ce([Date,Array])},defaultTime:{type:ce([Date,Array])},isRange:{type:Boolean,default:!1},...Jt,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:{type:Boolean,default:!1},label:{type:String,default:void 0},tabindex:{type:ce([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean}),Na=["id","name","placeholder","value","disabled","readonly"],Ea=["id","name","placeholder","value","disabled","readonly"],Fa=Ve({name:"Picker"}),La=Ve({...Fa,props:Xt,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(r,{expose:u,emit:n}){const a=r,p=Tt(),{lang:m}=Ke(),y=Te("date"),w=Te("input"),g=Te("range"),{form:C,formItem:O}=va(),D=qe("ElPopperOptions",{}),b=Z(),i=Z(),d=Z(!1),s=Z(!1),v=Z(null);let x=!1,M=!1;const f=R(()=>[y.b("editor"),y.bm("editor",a.type),w.e("wrapper"),y.is("disabled",l.value),y.is("active",d.value),g.b("editor"),Fe?g.bm("editor",Fe.value):"",p.class]),P=R(()=>[w.e("icon"),g.e("close-icon"),ue.value?"":g.e("close-icon--hidden")]);Ie(d,t=>{t?Ye(()=>{t&&(v.value=a.modelValue)}):(ne.value=null,Ye(()=>{B(a.modelValue)}))});const B=(t,$)=>{($||!Ft(t,v.value))&&(n("change",t),a.validateEvent&&(O==null||O.validate("change").catch(te=>It())))},F=t=>{if(!Ft(a.modelValue,t)){let $;Me(t)?$=t.map(te=>Bt(te,a.valueFormat,m.value)):t&&($=Bt(t,a.valueFormat,m.value)),n("update:modelValue",t&&$,m.value)}},q=t=>{n("keydown",t)},V=R(()=>{if(i.value){const t=xe.value?i.value:i.value.$el;return Array.from(t.querySelectorAll("input"))}return[]}),J=(t,$,te)=>{const pe=V.value;pe.length&&(!te||te==="min"?(pe[0].setSelectionRange(t,$),pe[0].focus()):te==="max"&&(pe[1].setSelectionRange(t,$),pe[1].focus()))},j=()=>{A(!0,!0),Ye(()=>{M=!1})},Q=(t="",$=!1)=>{$||(M=!0),d.value=$;let te;Me(t)?te=t.map(pe=>pe.toDate()):te=t&&t.toDate(),ne.value=null,F(te)},re=()=>{s.value=!0},U=()=>{n("visible-change",!0)},ae=t=>{(t==null?void 0:t.key)===ge.esc&&A(!0,!0)},me=()=>{s.value=!1,d.value=!1,M=!1,n("visible-change",!1)},be=()=>{d.value=!0},H=()=>{d.value=!1},A=(t=!0,$=!1)=>{M=$;const[te,pe]=e(V);let Ne=te;!t&&xe.value&&(Ne=pe),Ne&&Ne.focus()},o=t=>{a.readonly||l.value||d.value||M||(d.value=!0,n("focus",t))};let k;const N=t=>{const $=async()=>{setTimeout(()=>{var te;k===$&&(!((te=b.value)!=null&&te.isFocusInsideContent()&&!x)&&V.value.filter(pe=>pe.contains(document.activeElement)).length===0&&(Xe(),d.value=!1,n("blur",t),a.validateEvent&&(O==null||O.validate("blur").catch(pe=>It()))),x=!1)},0)};k=$,$()},l=R(()=>a.disabled||(C==null?void 0:C.disabled)),S=R(()=>{let t;if(Se.value?L.value.getDefaultValue&&(t=L.value.getDefaultValue()):Me(a.modelValue)?t=a.modelValue.map($=>Lt($,a.valueFormat,m.value)):t=Lt(a.modelValue,a.valueFormat,m.value),L.value.getRangeAvailableTime){const $=L.value.getRangeAvailableTime(t);Ta($,t)||(t=$,F(Me(t)?t.map(te=>te.toDate()):t.toDate()))}return Me(t)&&t.some($=>!$)&&(t=[]),t}),E=R(()=>{if(!L.value.panelReady)return"";const t=He(S.value);return Me(ne.value)?[ne.value[0]||t&&t[0]||"",ne.value[1]||t&&t[1]||""]:ne.value!==null?ne.value:!ee.value&&Se.value||!d.value&&Se.value?"":t?de.value?t.join(", "):t:""}),X=R(()=>a.type.includes("time")),ee=R(()=>a.type.startsWith("time")),de=R(()=>a.type==="dates"),le=R(()=>a.prefixIcon||(X.value?ma:ha)),ue=Z(!1),se=t=>{a.readonly||l.value||ue.value&&(t.stopPropagation(),j(),F(null),B(null,!0),ue.value=!1,d.value=!1,L.value.handleClear&&L.value.handleClear())},Se=R(()=>{const{modelValue:t}=a;return!t||Me(t)&&!t.filter(Boolean).length}),ye=async t=>{var $;a.readonly||l.value||((($=t.target)==null?void 0:$.tagName)!=="INPUT"||V.value.includes(document.activeElement))&&(d.value=!0)},$e=()=>{a.readonly||l.value||!Se.value&&a.clearable&&(ue.value=!0)},De=()=>{ue.value=!1},Oe=t=>{var $;a.readonly||l.value||((($=t.touches[0].target)==null?void 0:$.tagName)!=="INPUT"||V.value.includes(document.activeElement))&&(d.value=!0)},xe=R(()=>a.type.includes("range")),Fe=ba(),tt=R(()=>{var t,$;return($=(t=e(b))==null?void 0:t.popperRef)==null?void 0:$.contentRef}),Re=R(()=>{var t;return e(xe)?e(i):(t=e(i))==null?void 0:t.$el});ya(Re,t=>{const $=e(tt),te=e(Re);$&&(t.target===$||t.composedPath().includes($))||t.target===te||t.composedPath().includes(te)||(d.value=!1)});const ne=Z(null),Xe=()=>{if(ne.value){const t=Ue(E.value);t&&Ae(t)&&(F(Me(t)?t.map($=>$.toDate()):t.toDate()),ne.value=null)}ne.value===""&&(F(null),B(null),ne.value=null)},Ue=t=>t?L.value.parseUserInput(t):null,He=t=>t?L.value.formatToString(t):null,Ae=t=>L.value.isValidValue(t),Le=async t=>{if(a.readonly||l.value)return;const{code:$}=t;if(q(t),$===ge.esc){d.value===!0&&(d.value=!1,t.preventDefault(),t.stopPropagation());return}if($===ge.down&&(L.value.handleFocusPicker&&(t.preventDefault(),t.stopPropagation()),d.value===!1&&(d.value=!0,await Ye()),L.value.handleFocusPicker)){L.value.handleFocusPicker();return}if($===ge.tab){x=!0;return}if($===ge.enter||$===ge.numpadEnter){(ne.value===null||ne.value===""||Ae(Ue(E.value)))&&(Xe(),d.value=!1),t.stopPropagation();return}if(ne.value){t.stopPropagation();return}L.value.handleKeydownInput&&L.value.handleKeydownInput(t)},at=t=>{ne.value=t,d.value||(d.value=!0)},nt=t=>{const $=t.target;ne.value?ne.value=[$.value,ne.value[1]]:ne.value=[$.value,null]},je=t=>{const $=t.target;ne.value?ne.value=[ne.value[0],$.value]:ne.value=[null,$.value]},c=()=>{var t;const $=ne.value,te=Ue($&&$[0]),pe=e(S);if(te&&te.isValid()){ne.value=[He(te),((t=E.value)==null?void 0:t[1])||null];const Ne=[te,pe&&(pe[1]||null)];Ae(Ne)&&(F(Ne),ne.value=null)}},T=()=>{var t;const $=e(ne),te=Ue($&&$[1]),pe=e(S);if(te&&te.isValid()){ne.value=[((t=e(E))==null?void 0:t[0])||null,He(te)];const Ne=[pe&&pe[0],te];Ae(Ne)&&(F(Ne),ne.value=null)}},L=Z({}),Ce=t=>{L.value[t[0]]=t[1],L.value.panelReady=!0},I=t=>{n("calendar-change",t)},Y=(t,$,te)=>{n("panel-change",t,$,te)};return wt("EP_PICKER_BASE",{props:a}),u({focus:A,handleFocusInput:o,handleBlurInput:N,handleOpen:be,handleClose:H,onPick:Q}),(t,$)=>(_(),we(e(ga),Kt({ref_key:"refPopper",ref:b,visible:d.value,effect:"light",pure:"",trigger:"click"},t.$attrs,{role:"dialog",teleported:"",transition:`${e(y).namespace.value}-zoom-in-top`,"popper-class":[`${e(y).namespace.value}-picker__popper`,t.popperClass],"popper-options":e(D),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:re,onShow:U,onHide:me}),{default:oe(()=>[e(xe)?(_(),K("div",{key:1,ref_key:"inputRef",ref:i,class:h(e(f)),style:Yt(t.$attrs.style),onClick:o,onMouseenter:$e,onMouseleave:De,onTouchstart:Oe,onKeydown:Le},[e(le)?(_(),we(e(he),{key:0,class:h([e(w).e("icon"),e(g).e("icon")]),onMousedown:We(ye,["prevent"]),onTouchstart:Oe},{default:oe(()=>[(_(),we(ft(e(le))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0),z("input",{id:t.id&&t.id[0],autocomplete:"off",name:t.name&&t.name[0],placeholder:t.startPlaceholder,value:e(E)&&e(E)[0],disabled:e(l),readonly:!t.editable||t.readonly,class:h(e(g).b("input")),onMousedown:ye,onInput:nt,onChange:c,onFocus:o,onBlur:N},null,42,Na),it(t.$slots,"range-separator",{},()=>[z("span",{class:h(e(g).b("separator"))},fe(t.rangeSeparator),3)]),z("input",{id:t.id&&t.id[1],autocomplete:"off",name:t.name&&t.name[1],placeholder:t.endPlaceholder,value:e(E)&&e(E)[1],disabled:e(l),readonly:!t.editable||t.readonly,class:h(e(g).b("input")),onMousedown:ye,onFocus:o,onBlur:N,onInput:je,onChange:T},null,42,Ea),t.clearIcon?(_(),we(e(he),{key:1,class:h(e(P)),onClick:se},{default:oe(()=>[(_(),we(ft(t.clearIcon)))]),_:1},8,["class"])):ve("v-if",!0)],38)):(_(),we(e(Qe),{key:0,id:t.id,ref_key:"inputRef",ref:i,"container-role":"combobox","model-value":e(E),name:t.name,size:e(Fe),disabled:e(l),placeholder:t.placeholder,class:h([e(y).b("editor"),e(y).bm("editor",t.type),t.$attrs.class]),style:Yt(t.$attrs.style),readonly:!t.editable||t.readonly||e(de)||t.type==="week",label:t.label,tabindex:t.tabindex,"validate-event":!1,onInput:at,onFocus:o,onBlur:N,onKeydown:Le,onChange:Xe,onMousedown:ye,onMouseenter:$e,onMouseleave:De,onTouchstart:Oe,onClick:$[0]||($[0]=We(()=>{},["stop"]))},{prefix:oe(()=>[e(le)?(_(),we(e(he),{key:0,class:h(e(w).e("icon")),onMousedown:We(ye,["prevent"]),onTouchstart:Oe},{default:oe(()=>[(_(),we(ft(e(le))))]),_:1},8,["class","onMousedown"])):ve("v-if",!0)]),suffix:oe(()=>[ue.value&&t.clearIcon?(_(),we(e(he),{key:0,class:h(`${e(w).e("icon")} clear-icon`),onClick:We(se,["stop"])},{default:oe(()=>[(_(),we(ft(t.clearIcon)))]),_:1},8,["class","onClick"])):ve("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:oe(()=>[it(t.$slots,"default",{visible:d.value,actualVisible:s.value,parsedValue:e(S),format:t.format,unlinkPanels:t.unlinkPanels,type:t.type,defaultValue:t.defaultValue,onPick:Q,onSelectRange:J,onSetPickerOption:Ce,onCalendarChange:I,onPanelChange:Y,onKeydown:ae,onMousedown:$[1]||($[1]=We(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var Ba=ze(La,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/common/picker.vue"]]);const Wa=Pe({...Aa,datetimeRole:String,parsedValue:{type:ce(Object)}}),Ka=({getAvailableHours:r,getAvailableMinutes:u,getAvailableSeconds:n})=>{const a=(y,w,g,C)=>{const O={hour:r,minute:u,second:n};let D=y;return["hour","minute","second"].forEach(b=>{if(O[b]){let i;const d=O[b];switch(b){case"minute":{i=d(D.hour(),w,C);break}case"second":{i=d(D.hour(),D.minute(),w,C);break}default:{i=d(w,C);break}}if(i!=null&&i.length&&!i.includes(D[b]())){const s=g?0:i.length-1;D=D[b](i[s])}}}),D},p={};return{timePickerOptions:p,getAvailableTime:a,onSetOption:([y,w])=>{p[y]=w}}},kt=r=>{const u=(a,p)=>a||p,n=a=>a!==!0;return r.map(u).filter(n)},Qt=(r,u,n)=>({getHoursList:(y,w)=>gt(24,r&&(()=>r==null?void 0:r(y,w))),getMinutesList:(y,w,g)=>gt(60,u&&(()=>u==null?void 0:u(y,w,g))),getSecondsList:(y,w,g,C)=>gt(60,n&&(()=>n==null?void 0:n(y,w,g,C)))}),za=(r,u,n)=>{const{getHoursList:a,getMinutesList:p,getSecondsList:m}=Qt(r,u,n);return{getAvailableHours:(C,O)=>kt(a(C,O)),getAvailableMinutes:(C,O,D)=>kt(p(C,O,D)),getAvailableSeconds:(C,O,D,b)=>kt(m(C,O,D,b))}},Ua=r=>{const u=Z(r.parsedValue);return Ie(()=>r.visible,n=>{n||(u.value=r.parsedValue)}),u},Ha=Pe({role:{type:String,required:!0},spinnerDate:{type:ce(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:ce(String),default:""},...Jt}),ja=["onClick"],Ga=["onMouseenter"],qa=Ve({__name:"basic-time-spinner",props:Ha,emits:["change","select-range","set-option"],setup(r,{emit:u}){const n=r,a=Te("time"),{getHoursList:p,getMinutesList:m,getSecondsList:y}=Qt(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let w=!1;const g=Z(),C=Z(),O=Z(),D=Z(),b={hours:C,minutes:O,seconds:D},i=R(()=>n.showSeconds?At:At.slice(0,2)),d=R(()=>{const{spinnerDate:o}=n,k=o.hour(),N=o.minute(),l=o.second();return{hours:k,minutes:N,seconds:l}}),s=R(()=>{const{hours:o,minutes:k}=e(d);return{hours:p(n.role),minutes:m(o,n.role),seconds:y(o,k,n.role)}}),v=R(()=>{const{hours:o,minutes:k,seconds:N}=e(d);return{hours:yt(o,23),minutes:yt(k,59),seconds:yt(N,59)}}),x=Va(o=>{w=!1,P(o)},200),M=o=>{if(!!!n.amPmMode)return"";const N=n.amPmMode==="A";let l=o<12?" am":" pm";return N&&(l=l.toUpperCase()),l},f=o=>{let k;switch(o){case"hours":k=[0,2];break;case"minutes":k=[3,5];break;case"seconds":k=[6,8];break}const[N,l]=k;u("select-range",N,l),g.value=o},P=o=>{q(o,e(d)[o])},B=()=>{P("hours"),P("minutes"),P("seconds")},F=o=>o.querySelector(`.${a.namespace.value}-scrollbar__wrap`),q=(o,k)=>{if(n.arrowControl)return;const N=e(b[o]);N&&N.$el&&(F(N.$el).scrollTop=Math.max(0,k*V(o)))},V=o=>{const k=e(b[o]),N=k==null?void 0:k.$el.querySelector("li");return N&&Number.parseFloat(ka(N,"height"))||0},J=()=>{Q(1)},j=()=>{Q(-1)},Q=o=>{g.value||f("hours");const k=g.value,N=e(d)[k],l=g.value==="hours"?24:60,S=re(k,N,o,l);U(k,S),q(k,S),Ye(()=>f(k))},re=(o,k,N,l)=>{let S=(k+N+l)%l;const E=e(s)[o];for(;E[S]&&S!==k;)S=(S+N+l)%l;return S},U=(o,k)=>{if(e(s)[o][k])return;const{hours:S,minutes:E,seconds:X}=e(d);let ee;switch(o){case"hours":ee=n.spinnerDate.hour(k).minute(E).second(X);break;case"minutes":ee=n.spinnerDate.hour(S).minute(k).second(X);break;case"seconds":ee=n.spinnerDate.hour(S).minute(E).second(k);break}u("change",ee)},ae=(o,{value:k,disabled:N})=>{N||(U(o,k),f(o),q(o,k))},me=o=>{w=!0,x(o);const k=Math.min(Math.round((F(e(b[o]).$el).scrollTop-(be(o)*.5-10)/V(o)+3)/V(o)),o==="hours"?23:59);U(o,k)},be=o=>e(b[o]).$el.offsetHeight,H=()=>{const o=k=>{const N=e(b[k]);N&&N.$el&&(F(N.$el).onscroll=()=>{me(k)})};o("hours"),o("minutes"),o("seconds")};wa(()=>{Ye(()=>{!n.arrowControl&&H(),B(),n.role==="start"&&f("hours")})});const A=(o,k)=>{b[k].value=o};return u("set-option",[`${n.role}_scrollDown`,Q]),u("set-option",[`${n.role}_emitSelectRange`,f]),Ie(()=>n.spinnerDate,()=>{w||B()}),(o,k)=>(_(),K("div",{class:h([e(a).b("spinner"),{"has-seconds":o.showSeconds}])},[o.arrowControl?ve("v-if",!0):(_(!0),K(ke,{key:0},_e(e(i),N=>(_(),we(e(Da),{key:N,ref_for:!0,ref:l=>A(l,N),class:h(e(a).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":e(a).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:l=>f(N),onMousemove:l=>P(N)},{default:oe(()=>[(_(!0),K(ke,null,_e(e(s)[N],(l,S)=>(_(),K("li",{key:S,class:h([e(a).be("spinner","item"),e(a).is("active",S===e(d)[N]),e(a).is("disabled",l)]),onClick:E=>ae(N,{value:S,disabled:l})},[N==="hours"?(_(),K(ke,{key:0},[Ge(fe(("0"+(o.amPmMode?S%12||12:S)).slice(-2))+fe(M(S)),1)],64)):(_(),K(ke,{key:1},[Ge(fe(("0"+S).slice(-2)),1)],64))],10,ja))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),o.arrowControl?(_(!0),K(ke,{key:1},_e(e(i),N=>(_(),K("div",{key:N,class:h([e(a).be("spinner","wrapper"),e(a).is("arrow")]),onMouseenter:l=>f(N)},[Ee((_(),we(e(he),{class:h(["arrow-up",e(a).be("spinner","arrow")])},{default:oe(()=>[W(e(Sa))]),_:1},8,["class"])),[[e(Rt),j]]),Ee((_(),we(e(he),{class:h(["arrow-down",e(a).be("spinner","arrow")])},{default:oe(()=>[W(e(Ca))]),_:1},8,["class"])),[[e(Rt),J]]),z("ul",{class:h(e(a).be("spinner","list"))},[(_(!0),K(ke,null,_e(e(v)[N],(l,S)=>(_(),K("li",{key:S,class:h([e(a).be("spinner","item"),e(a).is("active",l===e(d)[N]),e(a).is("disabled",e(s)[N][l])])},[typeof l=="number"?(_(),K(ke,{key:0},[N==="hours"?(_(),K(ke,{key:0},[Ge(fe(("0"+(o.amPmMode?l%12||12:l)).slice(-2))+fe(M(l)),1)],64)):(_(),K(ke,{key:1},[Ge(fe(("0"+l).slice(-2)),1)],64))],64)):ve("v-if",!0)],2))),128))],2)],42,Ga))),128)):ve("v-if",!0)],2))}});var Za=ze(qa,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/basic-time-spinner.vue"]]);const Ja=Ve({__name:"panel-time-pick",props:Wa,emits:["pick","select-range","set-picker-option"],setup(r,{emit:u}){const n=r,a=qe("EP_PICKER_BASE"),{arrowControl:p,disabledHours:m,disabledMinutes:y,disabledSeconds:w,defaultValue:g}=a.props,{getAvailableHours:C,getAvailableMinutes:O,getAvailableSeconds:D}=za(m,y,w),b=Te("time"),{t:i,lang:d}=Ke(),s=Z([0,2]),v=Ua(n),x=R(()=>Ma(n.actualVisible)?`${b.namespace.value}-zoom-in-top`:""),M=R(()=>n.format.includes("ss")),f=R(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),P=A=>{const o=G(A).locale(d.value),k=ae(o);return o.isSame(k)},B=()=>{u("pick",v.value,!1)},F=(A=!1,o=!1)=>{o||u("pick",n.parsedValue,A)},q=A=>{if(!n.visible)return;const o=ae(A).millisecond(0);u("pick",o,!0)},V=(A,o)=>{u("select-range",A,o),s.value=[A,o]},J=A=>{const o=[0,3].concat(M.value?[6]:[]),k=["hours","minutes"].concat(M.value?["seconds"]:[]),l=(o.indexOf(s.value[0])+A+o.length)%o.length;Q.start_emitSelectRange(k[l])},j=A=>{const o=A.code,{left:k,right:N,up:l,down:S}=ge;if([k,N].includes(o)){J(o===k?-1:1),A.preventDefault();return}if([l,S].includes(o)){const E=o===l?-1:1;Q.start_scrollDown(E),A.preventDefault();return}},{timePickerOptions:Q,onSetOption:re,getAvailableTime:U}=Ka({getAvailableHours:C,getAvailableMinutes:O,getAvailableSeconds:D}),ae=A=>U(A,n.datetimeRole||"",!0),me=A=>A?G(A,n.format).locale(d.value):null,be=A=>A?A.format(n.format):null,H=()=>G(g).locale(d.value);return u("set-picker-option",["isValidValue",P]),u("set-picker-option",["formatToString",be]),u("set-picker-option",["parseUserInput",me]),u("set-picker-option",["handleKeydownInput",j]),u("set-picker-option",["getRangeAvailableTime",ae]),u("set-picker-option",["getDefaultValue",H]),(A,o)=>(_(),we(Pa,{name:e(x)},{default:oe(()=>[A.actualVisible||A.visible?(_(),K("div",{key:0,class:h(e(b).b("panel"))},[z("div",{class:h([e(b).be("panel","content"),{"has-seconds":e(M)}])},[W(Za,{ref:"spinner",role:A.datetimeRole||"start","arrow-control":e(p),"show-seconds":e(M),"am-pm-mode":e(f),"spinner-date":A.parsedValue,"disabled-hours":e(m),"disabled-minutes":e(y),"disabled-seconds":e(w),onChange:q,onSetOption:e(re),onSelectRange:V},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),z("div",{class:h(e(b).be("panel","footer"))},[z("button",{type:"button",class:h([e(b).be("panel","btn"),"cancel"]),onClick:B},fe(e(i)("el.datepicker.cancel")),3),z("button",{type:"button",class:h([e(b).be("panel","btn"),"confirm"]),onClick:o[0]||(o[0]=k=>F())},fe(e(i)("el.datepicker.confirm")),3)],2)],2)):ve("v-if",!0)]),_:1},8,["name"]))}});var Mt=ze(Ja,[["__file","/home/runner/work/element-plus/element-plus/packages/components/time-picker/src/time-picker-com/panel-time-pick.vue"]]),ea={exports:{}};(function(r,u){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a,p){var m=a.prototype,y=function(D){return D&&(D.indexOf?D:D.s)},w=function(D,b,i,d,s){var v=D.name?D:D.$locale(),x=y(v[b]),M=y(v[i]),f=x||M.map(function(B){return B.slice(0,d)});if(!s)return f;var P=v.weekStart;return f.map(function(B,F){return f[(F+(P||0))%7]})},g=function(){return p.Ls[p.locale()]},C=function(D,b){return D.formats[b]||function(i){return i.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(d,s,v){return s||v.slice(1)})}(D.formats[b.toUpperCase()])},O=function(){var D=this;return{months:function(b){return b?b.format("MMMM"):w(D,"months")},monthsShort:function(b){return b?b.format("MMM"):w(D,"monthsShort","months",3)},firstDayOfWeek:function(){return D.$locale().weekStart||0},weekdays:function(b){return b?b.format("dddd"):w(D,"weekdays")},weekdaysMin:function(b){return b?b.format("dd"):w(D,"weekdaysMin","weekdays",2)},weekdaysShort:function(b){return b?b.format("ddd"):w(D,"weekdaysShort","weekdays",3)},longDateFormat:function(b){return C(D.$locale(),b)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};m.localeData=function(){return O.bind(this)()},p.localeData=function(){var D=g();return{firstDayOfWeek:function(){return D.weekStart||0},weekdays:function(){return p.weekdays()},weekdaysShort:function(){return p.weekdaysShort()},weekdaysMin:function(){return p.weekdaysMin()},months:function(){return p.months()},monthsShort:function(){return p.monthsShort()},longDateFormat:function(b){return C(D,b)},meridiem:D.meridiem,ordinal:D.ordinal}},p.months=function(){return w(g(),"months")},p.monthsShort=function(){return w(g(),"monthsShort","months",3)},p.weekdays=function(D){return w(g(),"weekdays",null,null,D)},p.weekdaysShort=function(D){return w(g(),"weekdaysShort","weekdays",3,D)},p.weekdaysMin=function(D){return w(g(),"weekdaysMin","weekdays",2,D)}}})})(ea);var Xa=ea.exports;const Qa=Je(Xa);var ta={exports:{}};(function(r,u){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a){var p=a.prototype,m=p.format;p.format=function(y){var w=this,g=this.$locale();if(!this.isValid())return m.bind(this)(y);var C=this.$utils(),O=(y||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(D){switch(D){case"Q":return Math.ceil((w.$M+1)/3);case"Do":return g.ordinal(w.$D);case"gggg":return w.weekYear();case"GGGG":return w.isoWeekYear();case"wo":return g.ordinal(w.week(),"W");case"w":case"ww":return C.s(w.week(),D==="w"?1:2,"0");case"W":case"WW":return C.s(w.isoWeek(),D==="W"?1:2,"0");case"k":case"kk":return C.s(String(w.$H===0?24:w.$H),D==="k"?1:2,"0");case"X":return Math.floor(w.$d.getTime()/1e3);case"x":return w.$d.getTime();case"z":return"["+w.offsetName()+"]";case"zzz":return"["+w.offsetName("long")+"]";default:return D}});return m.bind(this)(O)}}})})(ta);var en=ta.exports;const tn=Je(en);var aa={exports:{}};(function(r,u){(function(n,a){r.exports=a()})(Ze,function(){var n="week",a="year";return function(p,m,y){var w=m.prototype;w.week=function(g){if(g===void 0&&(g=null),g!==null)return this.add(7*(g-this.week()),"day");var C=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var O=y(this).startOf(a).add(1,a).date(C),D=y(this).endOf(n);if(O.isBefore(D))return 1}var b=y(this).startOf(a).date(C).startOf(n).subtract(1,"millisecond"),i=this.diff(b,n,!0);return i<0?y(this).startOf("week").week():Math.ceil(i)},w.weeks=function(g){return g===void 0&&(g=null),this.week(g)}}})})(aa);var an=aa.exports;const nn=Je(an);var na={exports:{}};(function(r,u){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a){a.prototype.weekYear=function(){var p=this.month(),m=this.week(),y=this.year();return m===1&&p===11?y+1:p===0&&m>=52?y-1:y}}})})(na);var ln=na.exports;const sn=Je(ln);var la={exports:{}};(function(r,u){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a,p){a.prototype.dayOfYear=function(m){var y=Math.round((p(this).startOf("day")-p(this).startOf("year"))/864e5)+1;return m==null?y:this.add(m-y,"day")}}})})(la);var on=la.exports;const rn=Je(on);var sa={exports:{}};(function(r,u){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a){a.prototype.isSameOrAfter=function(p,m){return this.isSame(p,m)||this.isAfter(p,m)}}})})(sa);var un=sa.exports;const cn=Je(un);var oa={exports:{}};(function(r,u){(function(n,a){r.exports=a()})(Ze,function(){return function(n,a){a.prototype.isSameOrBefore=function(p,m){return this.isSame(p,m)||this.isBefore(p,m)}}})})(oa);var dn=oa.exports;const fn=Je(dn),Vt=Symbol(),pn=Pe({...Xt,type:{type:ce(String),default:"date"}}),vn=["date","dates","year","month","week","range"],Ot=Pe({disabledDate:{type:ce(Function)},date:{type:ce(Object),required:!0},minDate:{type:ce(Object)},maxDate:{type:ce(Object)},parsedValue:{type:ce([Object,Array])},rangeState:{type:ce(Object),default:()=>({endDate:null,selecting:!1})}}),ra=Pe({type:{type:ce(String),required:!0,values:xa}}),ua=Pe({unlinkPanels:Boolean,parsedValue:{type:ce(Array)}}),ia=r=>({type:String,values:vn,default:r}),mn=Pe({...ra,parsedValue:{type:ce([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),hn=Pe({...Ot,cellClassName:{type:ce(Function)},showWeekNumber:Boolean,selectionMode:ia("date")}),Pt=r=>{if(!Me(r))return!1;const[u,n]=r;return G.isDayjs(u)&&G.isDayjs(n)&&u.isSameOrBefore(n)},ca=(r,{lang:u,unit:n,unlinkPanels:a})=>{let p;if(Me(r)){let[m,y]=r.map(w=>G(w).locale(u));return a||(y=m.add(1,n)),[m,y]}else r?p=G(r):p=G();return p=p.locale(u),[p,p.add(1,n)]},bn=(r,u,{columnIndexOffset:n,startDate:a,nextEndDate:p,now:m,unit:y,relativeDateGetter:w,setCellMetadata:g,setRowMetadata:C})=>{for(let O=0;O<r.row;O++){const D=u[O];for(let b=0;b<r.column;b++){let i=D[b+n];i||(i={row:O,column:b,type:"normal",inRange:!1,start:!1,end:!1});const d=O*r.column+b,s=w(d);i.dayjs=s,i.date=s.toDate(),i.timestamp=s.valueOf(),i.type="normal",i.inRange=!!(a&&s.isSameOrAfter(a,y)&&p&&s.isSameOrBefore(p,y))||!!(a&&s.isSameOrBefore(a,y)&&p&&s.isSameOrAfter(p,y)),a!=null&&a.isSameOrAfter(p)?(i.start=!!p&&s.isSame(p,y),i.end=a&&s.isSame(a,y)):(i.start=!!a&&s.isSame(a,y),i.end=!!p&&s.isSame(p,y)),s.isSame(m,y)&&(i.type="today"),g==null||g(i,{rowIndex:O,columnIndex:b}),D[b+n]=i}C==null||C(D)}},yn=Pe({cell:{type:ce(Object)}});var gn=Ve({name:"ElDatePickerCell",props:yn,setup(r){const u=Te("date-table-cell"),{slots:n}=qe(Vt);return()=>{const{cell:a}=r;if(n.default){const p=n.default(a).filter(m=>m.patchFlag!==-2&&m.type.toString()!=="Symbol(Comment)");if(p.length)return p}return W("div",{class:u.b()},[W("span",{class:u.e("text")},[a==null?void 0:a.text])])}}});const kn=["aria-label","onMousedown"],wn={key:0,scope:"col"},Dn=["aria-label"],Sn=["aria-current","aria-selected","tabindex"],Cn=Ve({__name:"basic-date-table",props:hn,emits:["changerange","pick","select"],setup(r,{expose:u,emit:n}){const a=r,p=Te("date-table"),{t:m,lang:y}=Ke(),w=Z(),g=Z(),C=Z(),O=Z(),D=Z([[],[],[],[],[],[]]);let b=!1;const i=a.date.$locale().weekStart||7,d=a.date.locale("en").localeData().weekdaysShort().map(l=>l.toLowerCase()),s=R(()=>i>3?7-i:-i),v=R(()=>{const l=a.date.startOf("month");return l.subtract(l.day()||7,"day")}),x=R(()=>d.concat(d).slice(i,i+7)),M=R(()=>Oa(V.value).some(l=>l.isCurrent)),f=R(()=>{const l=a.date.startOf("month"),S=l.day()||7,E=l.daysInMonth(),X=l.subtract(1,"month").daysInMonth();return{startOfMonthDay:S,dateCountOfMonth:E,dateCountOfLastMonth:X}}),P=R(()=>a.selectionMode==="dates"?et(a.parsedValue):[]),B=(l,{count:S,rowIndex:E,columnIndex:X})=>{const{startOfMonthDay:ee,dateCountOfMonth:de,dateCountOfLastMonth:le}=e(f),ue=e(s);if(E>=0&&E<=1){const se=ee+ue<0?7+ee+ue:ee+ue;if(X+E*7>=se)return l.text=S,!0;l.text=le-(se-X%7)+1+E*7,l.type="prev-month"}else return S<=de?l.text=S:(l.text=S-de,l.type="next-month"),!0;return!1},F=(l,{columnIndex:S,rowIndex:E},X)=>{const{disabledDate:ee,cellClassName:de}=a,le=e(P),ue=B(l,{count:X,rowIndex:E,columnIndex:S}),se=l.dayjs.toDate();return l.selected=le.find(Se=>Se.valueOf()===l.dayjs.valueOf()),l.isSelected=!!l.selected,l.isCurrent=Q(l),l.disabled=ee==null?void 0:ee(se),l.customClass=de==null?void 0:de(se),ue},q=l=>{if(a.selectionMode==="week"){const[S,E]=a.showWeekNumber?[1,7]:[0,6],X=N(l[S+1]);l[S].inRange=X,l[S].start=X,l[E].inRange=X,l[E].end=X}},V=R(()=>{const{minDate:l,maxDate:S,rangeState:E,showWeekNumber:X}=a,ee=s.value,de=D.value,le="day";let ue=1;if(X)for(let se=0;se<6;se++)de[se][0]||(de[se][0]={type:"week",text:v.value.add(se*7+1,le).week()});return bn({row:6,column:7},de,{startDate:l,columnIndexOffset:X?1:0,nextEndDate:E.endDate||S||E.selecting&&l||null,now:G().locale(e(y)).startOf(le),unit:le,relativeDateGetter:se=>v.value.add(se-ee,le),setCellMetadata:(...se)=>{F(...se,ue)&&(ue+=1)},setRowMetadata:q}),de});Ie(()=>a.date,async()=>{var l,S;(l=w.value)!=null&&l.contains(document.activeElement)&&(await Ye(),(S=g.value)==null||S.focus())});const J=async()=>{var l;(l=g.value)==null||l.focus()},j=(l="")=>["normal","today"].includes(l),Q=l=>a.selectionMode==="date"&&j(l.type)&&re(l,a.parsedValue),re=(l,S)=>S?G(S).locale(y.value).isSame(a.date.date(Number(l.text)),"day"):!1,U=l=>{const S=[];return j(l.type)&&!l.disabled?(S.push("available"),l.type==="today"&&S.push("today")):S.push(l.type),Q(l)&&S.push("current"),l.inRange&&(j(l.type)||a.selectionMode==="week")&&(S.push("in-range"),l.start&&S.push("start-date"),l.end&&S.push("end-date")),l.disabled&&S.push("disabled"),l.selected&&S.push("selected"),l.customClass&&S.push(l.customClass),S.join(" ")},ae=(l,S)=>{const E=l*7+(S-(a.showWeekNumber?1:0))-s.value;return v.value.add(E,"day")},me=l=>{var S;if(!a.rangeState.selecting)return;let E=l.target;if(E.tagName==="SPAN"&&(E=(S=E.parentNode)==null?void 0:S.parentNode),E.tagName==="DIV"&&(E=E.parentNode),E.tagName!=="TD")return;const X=E.parentNode.rowIndex-1,ee=E.cellIndex;V.value[X][ee].disabled||(X!==C.value||ee!==O.value)&&(C.value=X,O.value=ee,n("changerange",{selecting:!0,endDate:ae(X,ee)}))},be=l=>!M.value&&(l==null?void 0:l.text)===1&&l.type==="normal"||l.isCurrent,H=l=>{b||M.value||a.selectionMode!=="date"||k(l,!0)},A=l=>{l.target.closest("td")&&(b=!0)},o=l=>{l.target.closest("td")&&(b=!1)},k=(l,S=!1)=>{const E=l.target.closest("td");if(!E)return;const X=E.parentNode.rowIndex-1,ee=E.cellIndex,de=V.value[X][ee];if(de.disabled||de.type==="week")return;const le=ae(X,ee);if(a.selectionMode==="range")!a.rangeState.selecting||!a.minDate?(n("pick",{minDate:le,maxDate:null}),n("select",!0)):(le>=a.minDate?n("pick",{minDate:a.minDate,maxDate:le}):n("pick",{minDate:le,maxDate:a.minDate}),n("select",!1));else if(a.selectionMode==="date")n("pick",le,S);else if(a.selectionMode==="week"){const ue=le.week(),se=`${le.year()}w${ue}`;n("pick",{year:le.year(),week:ue,value:se,date:le.startOf("week")})}else if(a.selectionMode==="dates"){const ue=de.selected?et(a.parsedValue).filter(se=>(se==null?void 0:se.valueOf())!==le.valueOf()):et(a.parsedValue).concat([le]);n("pick",ue)}},N=l=>{if(a.selectionMode!=="week")return!1;let S=a.date.startOf("day");if(l.type==="prev-month"&&(S=S.subtract(1,"month")),l.type==="next-month"&&(S=S.add(1,"month")),S=S.date(Number.parseInt(l.text,10)),a.parsedValue&&!Array.isArray(a.parsedValue)){const E=(a.parsedValue.day()-i+7)%7-1;return a.parsedValue.subtract(E,"day").isSame(S,"day")}return!1};return u({focus:J}),(l,S)=>(_(),K("table",{role:"grid","aria-label":e(m)("el.datepicker.dateTablePrompt"),cellspacing:"0",cellpadding:"0",class:h([e(p).b(),{"is-week-mode":l.selectionMode==="week"}]),onClick:k,onMousemove:me,onMousedown:We(A,["prevent"]),onMouseup:o},[z("tbody",{ref_key:"tbodyRef",ref:w},[z("tr",null,[l.showWeekNumber?(_(),K("th",wn,fe(e(m)("el.datepicker.week")),1)):ve("v-if",!0),(_(!0),K(ke,null,_e(e(x),(E,X)=>(_(),K("th",{key:X,scope:"col","aria-label":e(m)("el.datepicker.weeksFull."+E)},fe(e(m)("el.datepicker.weeks."+E)),9,Dn))),128))]),(_(!0),K(ke,null,_e(e(V),(E,X)=>(_(),K("tr",{key:X,class:h([e(p).e("row"),{current:N(E[1])}])},[(_(!0),K(ke,null,_e(E,(ee,de)=>(_(),K("td",{key:`${X}.${de}`,ref_for:!0,ref:le=>be(ee)&&(g.value=le),class:h(U(ee)),"aria-current":ee.isCurrent?"date":void 0,"aria-selected":ee.isCurrent,tabindex:be(ee)?0:-1,onFocus:H},[W(e(gn),{cell:ee},null,8,["cell"])],42,Sn))),128))],2))),128))],512)],42,kn))}});var _t=ze(Cn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-date-table.vue"]]);const Mn=Pe({...Ot,selectionMode:ia("month")}),Pn=["aria-label"],_n=["aria-selected","aria-label","tabindex","onKeydown"],$n={class:"cell"},Tn=Ve({__name:"basic-month-table",props:Mn,emits:["changerange","pick","select"],setup(r,{expose:u,emit:n}){const a=r,p=(P,B,F)=>{const q=G().locale(F).startOf("month").month(B).year(P),V=q.daysInMonth();return Gt(V).map(J=>q.add(J,"day").toDate())},m=Te("month-table"),{t:y,lang:w}=Ke(),g=Z(),C=Z(),O=Z(a.date.locale("en").localeData().monthsShort().map(P=>P.toLowerCase())),D=Z([[],[],[]]),b=Z(),i=Z(),d=R(()=>{var P,B;const F=D.value,q=G().locale(w.value).startOf("month");for(let V=0;V<3;V++){const J=F[V];for(let j=0;j<4;j++){const Q=J[j]||(J[j]={row:V,column:j,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});Q.type="normal";const re=V*4+j,U=a.date.startOf("year").month(re),ae=a.rangeState.endDate||a.maxDate||a.rangeState.selecting&&a.minDate||null;Q.inRange=!!(a.minDate&&U.isSameOrAfter(a.minDate,"month")&&ae&&U.isSameOrBefore(ae,"month"))||!!(a.minDate&&U.isSameOrBefore(a.minDate,"month")&&ae&&U.isSameOrAfter(ae,"month")),(P=a.minDate)!=null&&P.isSameOrAfter(ae)?(Q.start=!!(ae&&U.isSame(ae,"month")),Q.end=a.minDate&&U.isSame(a.minDate,"month")):(Q.start=!!(a.minDate&&U.isSame(a.minDate,"month")),Q.end=!!(ae&&U.isSame(ae,"month"))),q.isSame(U)&&(Q.type="today"),Q.text=re,Q.disabled=((B=a.disabledDate)==null?void 0:B.call(a,U.toDate()))||!1}}return F}),s=()=>{var P;(P=C.value)==null||P.focus()},v=P=>{const B={},F=a.date.year(),q=new Date,V=P.text;return B.disabled=a.disabledDate?p(F,V,w.value).every(a.disabledDate):!1,B.current=et(a.parsedValue).findIndex(J=>G.isDayjs(J)&&J.year()===F&&J.month()===V)>=0,B.today=q.getFullYear()===F&&q.getMonth()===V,P.inRange&&(B["in-range"]=!0,P.start&&(B["start-date"]=!0),P.end&&(B["end-date"]=!0)),B},x=P=>{const B=a.date.year(),F=P.text;return et(a.date).findIndex(q=>q.year()===B&&q.month()===F)>=0},M=P=>{var B;if(!a.rangeState.selecting)return;let F=P.target;if(F.tagName==="A"&&(F=(B=F.parentNode)==null?void 0:B.parentNode),F.tagName==="DIV"&&(F=F.parentNode),F.tagName!=="TD")return;const q=F.parentNode.rowIndex,V=F.cellIndex;d.value[q][V].disabled||(q!==b.value||V!==i.value)&&(b.value=q,i.value=V,n("changerange",{selecting:!0,endDate:a.date.startOf("year").month(q*4+V)}))},f=P=>{var B;const F=(B=P.target)==null?void 0:B.closest("td");if((F==null?void 0:F.tagName)!=="TD"||zt(F,"disabled"))return;const q=F.cellIndex,J=F.parentNode.rowIndex*4+q,j=a.date.startOf("year").month(J);a.selectionMode==="range"?a.rangeState.selecting?(a.minDate&&j>=a.minDate?n("pick",{minDate:a.minDate,maxDate:j}):n("pick",{minDate:j,maxDate:a.minDate}),n("select",!1)):(n("pick",{minDate:j,maxDate:null}),n("select",!0)):n("pick",J)};return Ie(()=>a.date,async()=>{var P,B;(P=g.value)!=null&&P.contains(document.activeElement)&&(await Ye(),(B=C.value)==null||B.focus())}),u({focus:s}),(P,B)=>(_(),K("table",{role:"grid","aria-label":e(y)("el.datepicker.monthTablePrompt"),class:h(e(m).b()),onClick:f,onMousemove:M},[z("tbody",{ref_key:"tbodyRef",ref:g},[(_(!0),K(ke,null,_e(e(d),(F,q)=>(_(),K("tr",{key:q},[(_(!0),K(ke,null,_e(F,(V,J)=>(_(),K("td",{key:J,ref_for:!0,ref:j=>x(V)&&(C.value=j),class:h(v(V)),"aria-selected":`${x(V)}`,"aria-label":e(y)(`el.datepicker.month${+V.text+1}`),tabindex:x(V)?0:-1,onKeydown:[ot(We(f,["prevent","stop"]),["space"]),ot(We(f,["prevent","stop"]),["enter"])]},[z("div",null,[z("span",$n,fe(e(y)("el.datepicker.months."+O.value[V.text])),1)])],42,_n))),128))]))),128))],512)],42,Pn))}});var $t=ze(Tn,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-month-table.vue"]]);const{date:Vn,disabledDate:On,parsedValue:xn}=Ot,In=Pe({date:Vn,disabledDate:On,parsedValue:xn}),Yn=["aria-label"],Rn=["aria-selected","tabindex","onKeydown"],An={class:"cell"},Nn={key:1},En=Ve({__name:"basic-year-table",props:In,emits:["pick"],setup(r,{expose:u,emit:n}){const a=r,p=(s,v)=>{const x=G(String(s)).locale(v).startOf("year"),f=x.endOf("year").dayOfYear();return Gt(f).map(P=>x.add(P,"day").toDate())},m=Te("year-table"),{t:y,lang:w}=Ke(),g=Z(),C=Z(),O=R(()=>Math.floor(a.date.year()/10)*10),D=()=>{var s;(s=C.value)==null||s.focus()},b=s=>{const v={},x=G().locale(w.value);return v.disabled=a.disabledDate?p(s,w.value).every(a.disabledDate):!1,v.current=et(a.parsedValue).findIndex(M=>M.year()===s)>=0,v.today=x.year()===s,v},i=s=>s===O.value&&a.date.year()<O.value&&a.date.year()>O.value+9||et(a.date).findIndex(v=>v.year()===s)>=0,d=s=>{const x=s.target.closest("td");if(x&&x.textContent){if(zt(x,"disabled"))return;const M=x.textContent||x.innerText;n("pick",Number(M))}};return Ie(()=>a.date,async()=>{var s,v;(s=g.value)!=null&&s.contains(document.activeElement)&&(await Ye(),(v=C.value)==null||v.focus())}),u({focus:D}),(s,v)=>(_(),K("table",{role:"grid","aria-label":e(y)("el.datepicker.yearTablePrompt"),class:h(e(m).b()),onClick:d},[z("tbody",{ref_key:"tbodyRef",ref:g},[(_(),K(ke,null,_e(3,(x,M)=>z("tr",{key:M},[(_(),K(ke,null,_e(4,(f,P)=>(_(),K(ke,{key:M+"_"+P},[M*4+P<10?(_(),K("td",{key:0,ref_for:!0,ref:B=>i(e(O)+M*4+P)&&(C.value=B),class:h(["available",b(e(O)+M*4+P)]),"aria-selected":`${i(e(O)+M*4+P)}`,tabindex:i(e(O)+M*4+P)?0:-1,onKeydown:[ot(We(d,["prevent","stop"]),["space"]),ot(We(d,["prevent","stop"]),["enter"])]},[z("span",An,fe(e(O)+M*4+P),1)],42,Rn)):(_(),K("td",Nn))],64))),64))])),64))],512)],10,Yn))}});var Fn=ze(En,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/basic-year-table.vue"]]);const Ln=["onClick"],Bn=["aria-label"],Wn=["aria-label"],Kn=["aria-label"],zn=["aria-label"],Un=Ve({__name:"panel-date-pick",props:mn,emits:["pick","set-picker-option","panel-change"],setup(r,{emit:u}){const n=r,a=(c,T,L)=>!0,p=Te("picker-panel"),m=Te("date-picker"),y=Tt(),w=Ut(),{t:g,lang:C}=Ke(),O=qe("EP_PICKER_BASE"),D=qe(_a),{shortcuts:b,disabledDate:i,cellClassName:d,defaultTime:s,arrowControl:v}=O.props,x=rt(O.props,"defaultValue"),M=Z(),f=Z(G().locale(C.value)),P=Z(!1),B=R(()=>G(s).locale(C.value)),F=R(()=>f.value.month()),q=R(()=>f.value.year()),V=Z([]),J=Z(null),j=Z(null),Q=c=>V.value.length>0?a(c,V.value,n.format||"HH:mm:ss"):!0,re=c=>s&&!ye.value&&!P.value?B.value.year(c.year()).month(c.month()).date(c.date()):ee.value?c.millisecond(0):c.startOf("day"),U=(c,...T)=>{if(!c)u("pick",c,...T);else if(Me(c)){const L=c.map(re);u("pick",L,...T)}else u("pick",re(c),...T);J.value=null,j.value=null,P.value=!1},ae=(c,T)=>{if(k.value==="date"){c=c;let L=n.parsedValue?n.parsedValue.year(c.year()).month(c.month()).date(c.date()):c;Q(L)||(L=V.value[0][0].year(c.year()).month(c.month()).date(c.date())),f.value=L,U(L,ee.value||T)}else k.value==="week"?U(c.date):k.value==="dates"&&U(c,!0)},me=c=>{const T=c?"add":"subtract";f.value=f.value[T](1,"month"),je("month")},be=c=>{const T=f.value,L=c?"add":"subtract";f.value=H.value==="year"?T[L](10,"year"):T[L](1,"year"),je("year")},H=Z("date"),A=R(()=>{const c=g("el.datepicker.year");if(H.value==="year"){const T=Math.floor(q.value/10)*10;return c?`${T} ${c} - ${T+9} ${c}`:`${T} - ${T+9}`}return`${q.value} ${c}`}),o=c=>{const T=St(c.value)?c.value():c.value;if(T){U(G(T).locale(C.value));return}c.onClick&&c.onClick({attrs:y,slots:w,emit:u})},k=R(()=>{const{type:c}=n;return["week","month","year","dates"].includes(c)?c:"date"}),N=R(()=>k.value==="date"?H.value:k.value),l=R(()=>!!b.length),S=async c=>{f.value=f.value.startOf("month").month(c),k.value==="month"?U(f.value,!1):(H.value="date",["month","year","date","week"].includes(k.value)&&(U(f.value,!0),await Ye(),Le())),je("month")},E=async c=>{k.value==="year"?(f.value=f.value.startOf("year").year(c),U(f.value,!1)):(f.value=f.value.year(c),H.value="month",["month","year","date","week"].includes(k.value)&&(U(f.value,!0),await Ye(),Le())),je("year")},X=async c=>{H.value=c,await Ye(),Le()},ee=R(()=>n.type==="datetime"||n.type==="datetimerange"),de=R(()=>ee.value||k.value==="dates"),le=()=>{if(k.value==="dates")U(n.parsedValue);else{let c=n.parsedValue;if(!c){const T=G(s).locale(C.value),L=Ae();c=T.year(L.year()).month(L.month()).date(L.date())}f.value=c,U(c)}},ue=()=>{const T=G().locale(C.value).toDate();P.value=!0,(!i||!i(T))&&Q(T)&&(f.value=G().locale(C.value),U(f.value))},se=R(()=>Zt(n.format)),Se=R(()=>qt(n.format)),ye=R(()=>{if(j.value)return j.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||f.value).format(se.value)}),$e=R(()=>{if(J.value)return J.value;if(!(!n.parsedValue&&!x.value))return(n.parsedValue||f.value).format(Se.value)}),De=Z(!1),Oe=()=>{De.value=!0},xe=()=>{De.value=!1},Fe=c=>({hour:c.hour(),minute:c.minute(),second:c.second(),year:c.year(),month:c.month(),date:c.date()}),tt=(c,T,L)=>{const{hour:Ce,minute:I,second:Y}=Fe(c),t=n.parsedValue?n.parsedValue.hour(Ce).minute(I).second(Y):c;f.value=t,U(f.value,!0),L||(De.value=T)},Re=c=>{const T=G(c,se.value).locale(C.value);if(T.isValid()&&Q(T)){const{year:L,month:Ce,date:I}=Fe(f.value);f.value=T.year(L).month(Ce).date(I),j.value=null,De.value=!1,U(f.value,!0)}},ne=c=>{const T=G(c,Se.value).locale(C.value);if(T.isValid()){if(i&&i(T.toDate()))return;const{hour:L,minute:Ce,second:I}=Fe(f.value);f.value=T.hour(L).minute(Ce).second(I),J.value=null,U(f.value,!0)}},Xe=c=>G.isDayjs(c)&&c.isValid()&&(i?!i(c.toDate()):!0),Ue=c=>k.value==="dates"?c.map(T=>T.format(n.format)):c.format(n.format),He=c=>G(c,n.format).locale(C.value),Ae=()=>{const c=G(x.value).locale(C.value);if(!x.value){const T=B.value;return G().hour(T.hour()).minute(T.minute()).second(T.second()).locale(C.value)}return c},Le=async()=>{var c;["week","month","year","date"].includes(k.value)&&((c=M.value)==null||c.focus(),k.value==="week"&&nt(ge.down))},at=c=>{const{code:T}=c;[ge.up,ge.down,ge.left,ge.right,ge.home,ge.end,ge.pageUp,ge.pageDown].includes(T)&&(nt(T),c.stopPropagation(),c.preventDefault()),[ge.enter,ge.space,ge.numpadEnter].includes(T)&&J.value===null&&j.value===null&&(c.preventDefault(),U(f.value,!1))},nt=c=>{var T;const{up:L,down:Ce,left:I,right:Y,home:t,end:$,pageUp:te,pageDown:pe}=ge,Ne={year:{[L]:-4,[Ce]:4,[I]:-1,[Y]:1,offset:(ie,Be)=>ie.setFullYear(ie.getFullYear()+Be)},month:{[L]:-4,[Ce]:4,[I]:-1,[Y]:1,offset:(ie,Be)=>ie.setMonth(ie.getMonth()+Be)},week:{[L]:-1,[Ce]:1,[I]:-1,[Y]:1,offset:(ie,Be)=>ie.setDate(ie.getDate()+Be*7)},date:{[L]:-7,[Ce]:7,[I]:-1,[Y]:1,[t]:ie=>-ie.getDay(),[$]:ie=>-ie.getDay()+6,[te]:ie=>-new Date(ie.getFullYear(),ie.getMonth(),0).getDate(),[pe]:ie=>new Date(ie.getFullYear(),ie.getMonth()+1,0).getDate(),offset:(ie,Be)=>ie.setDate(ie.getDate()+Be)}},ut=f.value.toDate();for(;Math.abs(f.value.diff(ut,"year",!0))<1;){const ie=Ne[N.value];if(!ie)return;if(ie.offset(ut,St(ie[c])?ie[c](ut):(T=ie[c])!=null?T:0),i&&i(ut))break;const Be=G(ut).locale(C.value);f.value=Be,u("pick",Be,!0);break}},je=c=>{u("panel-change",f.value.toDate(),c,H.value)};return Ie(()=>k.value,c=>{if(["month","year"].includes(c)){H.value=c;return}H.value="date"},{immediate:!0}),Ie(()=>H.value,()=>{D==null||D.updatePopper()}),Ie(()=>x.value,c=>{c&&(f.value=Ae())},{immediate:!0}),Ie(()=>n.parsedValue,c=>{if(c){if(k.value==="dates"||Array.isArray(c))return;f.value=c}else f.value=Ae()},{immediate:!0}),u("set-picker-option",["isValidValue",Xe]),u("set-picker-option",["formatToString",Ue]),u("set-picker-option",["parseUserInput",He]),u("set-picker-option",["handleFocusPicker",Le]),(c,T)=>(_(),K("div",{class:h([e(p).b(),e(m).b(),{"has-sidebar":c.$slots.sidebar||e(l),"has-time":e(ee)}])},[z("div",{class:h(e(p).e("body-wrapper"))},[it(c.$slots,"sidebar",{class:h(e(p).e("sidebar"))}),e(l)?(_(),K("div",{key:0,class:h(e(p).e("sidebar"))},[(_(!0),K(ke,null,_e(e(b),(L,Ce)=>(_(),K("button",{key:Ce,type:"button",class:h(e(p).e("shortcut")),onClick:I=>o(L)},fe(L.text),11,Ln))),128))],2)):ve("v-if",!0),z("div",{class:h(e(p).e("body"))},[e(ee)?(_(),K("div",{key:0,class:h(e(m).e("time-header"))},[z("span",{class:h(e(m).e("editor-wrap"))},[W(e(Qe),{placeholder:e(g)("el.datepicker.selectDate"),"model-value":e($e),size:"small","validate-event":!1,onInput:T[0]||(T[0]=L=>J.value=L),onChange:ne},null,8,["placeholder","model-value"])],2),Ee((_(),K("span",{class:h(e(m).e("editor-wrap"))},[W(e(Qe),{placeholder:e(g)("el.datepicker.selectTime"),"model-value":e(ye),size:"small","validate-event":!1,onFocus:Oe,onInput:T[1]||(T[1]=L=>j.value=L),onChange:Re},null,8,["placeholder","model-value"]),W(e(Mt),{visible:De.value,format:e(se),"time-arrow-control":e(v),"parsed-value":f.value,onPick:tt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Ct),xe]])],2)):ve("v-if",!0),Ee(z("div",{class:h([e(m).e("header"),(H.value==="year"||H.value==="month")&&e(m).e("header--bordered")])},[z("span",{class:h(e(m).e("prev-btn"))},[z("button",{type:"button","aria-label":e(g)("el.datepicker.prevYear"),class:h(["d-arrow-left",e(p).e("icon-btn")]),onClick:T[2]||(T[2]=L=>be(!1))},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],10,Bn),Ee(z("button",{type:"button","aria-label":e(g)("el.datepicker.prevMonth"),class:h([e(p).e("icon-btn"),"arrow-left"]),onClick:T[3]||(T[3]=L=>me(!1))},[W(e(he),null,{default:oe(()=>[W(e(Dt))]),_:1})],10,Wn),[[lt,H.value==="date"]])],2),z("span",{role:"button",class:h(e(m).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:T[4]||(T[4]=ot(L=>X("year"),["enter"])),onClick:T[5]||(T[5]=L=>X("year"))},fe(e(A)),35),Ee(z("span",{role:"button","aria-live":"polite",tabindex:"0",class:h([e(m).e("header-label"),{active:H.value==="month"}]),onKeydown:T[6]||(T[6]=ot(L=>X("month"),["enter"])),onClick:T[7]||(T[7]=L=>X("month"))},fe(e(g)(`el.datepicker.month${e(F)+1}`)),35),[[lt,H.value==="date"]]),z("span",{class:h(e(m).e("next-btn"))},[Ee(z("button",{type:"button","aria-label":e(g)("el.datepicker.nextMonth"),class:h([e(p).e("icon-btn"),"arrow-right"]),onClick:T[8]||(T[8]=L=>me(!0))},[W(e(he),null,{default:oe(()=>[W(e(mt))]),_:1})],10,Kn),[[lt,H.value==="date"]]),z("button",{type:"button","aria-label":e(g)("el.datepicker.nextYear"),class:h([e(p).e("icon-btn"),"d-arrow-right"]),onClick:T[9]||(T[9]=L=>be(!0))},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],10,zn)],2)],2),[[lt,H.value!=="time"]]),z("div",{class:h(e(p).e("content")),onKeydown:at},[H.value==="date"?(_(),we(_t,{key:0,ref_key:"currentViewRef",ref:M,"selection-mode":e(k),date:f.value,"parsed-value":c.parsedValue,"disabled-date":e(i),"cell-class-name":e(d),onPick:ae},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):ve("v-if",!0),H.value==="year"?(_(),we(Fn,{key:1,ref_key:"currentViewRef",ref:M,date:f.value,"disabled-date":e(i),"parsed-value":c.parsedValue,onPick:E},null,8,["date","disabled-date","parsed-value"])):ve("v-if",!0),H.value==="month"?(_(),we($t,{key:2,ref_key:"currentViewRef",ref:M,date:f.value,"parsed-value":c.parsedValue,"disabled-date":e(i),onPick:S},null,8,["date","parsed-value","disabled-date"])):ve("v-if",!0)],34)],2)],2),Ee(z("div",{class:h(e(p).e("footer"))},[Ee(W(e(bt),{text:"",size:"small",class:h(e(p).e("link-btn")),onClick:ue},{default:oe(()=>[Ge(fe(e(g)("el.datepicker.now")),1)]),_:1},8,["class"]),[[lt,e(k)!=="dates"]]),W(e(bt),{plain:"",size:"small",class:h(e(p).e("link-btn")),onClick:le},{default:oe(()=>[Ge(fe(e(g)("el.datepicker.confirm")),1)]),_:1},8,["class"])],2),[[lt,e(de)&&H.value==="date"]])],2))}});var Hn=ze(Un,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-pick.vue"]]);const jn=Pe({...ra,...ua}),Gn=r=>{const{emit:u}=Ht(),n=Tt(),a=Ut();return m=>{const y=St(m.value)?m.value():m.value;if(y){u("pick",[G(y[0]).locale(r.value),G(y[1]).locale(r.value)]);return}m.onClick&&m.onClick({attrs:n,slots:a,emit:u})}},da=(r,{defaultValue:u,leftDate:n,rightDate:a,unit:p,onParsedValueChanged:m})=>{const{emit:y}=Ht(),{pickerNs:w}=qe(Vt),g=Te("date-range-picker"),{t:C,lang:O}=Ke(),D=Gn(O),b=Z(),i=Z(),d=Z({endDate:null,selecting:!1}),s=f=>{d.value=f},v=(f=!1)=>{const P=e(b),B=e(i);Pt([P,B])&&y("pick",[P,B],f)},x=f=>{d.value.selecting=f,f||(d.value.endDate=null)},M=()=>{const[f,P]=ca(e(u),{lang:e(O),unit:p,unlinkPanels:r.unlinkPanels});b.value=void 0,i.value=void 0,n.value=f,a.value=P};return Ie(u,f=>{f&&M()},{immediate:!0}),Ie(()=>r.parsedValue,f=>{if(Me(f)&&f.length===2){const[P,B]=f;b.value=P,n.value=P,i.value=B,m(e(b),e(i))}else M()},{immediate:!0}),{minDate:b,maxDate:i,rangeState:d,lang:O,ppNs:w,drpNs:g,handleChangeRange:s,handleRangeConfirm:v,handleShortcutClick:D,onSelect:x,t:C}},qn=["onClick"],Zn=["disabled"],Jn=["disabled"],Xn=["disabled"],Qn=["disabled"],pt="month",el=Ve({__name:"panel-date-range",props:jn,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(r,{emit:u}){const n=r,a=qe("EP_PICKER_BASE"),{disabledDate:p,cellClassName:m,format:y,defaultTime:w,arrowControl:g,clearable:C}=a.props,O=rt(a.props,"shortcuts"),D=rt(a.props,"defaultValue"),{lang:b}=Ke(),i=Z(G().locale(b.value)),d=Z(G().locale(b.value).add(1,pt)),{minDate:s,maxDate:v,rangeState:x,ppNs:M,drpNs:f,handleChangeRange:P,handleRangeConfirm:B,handleShortcutClick:F,onSelect:q,t:V}=da(n,{defaultValue:D,leftDate:i,rightDate:d,unit:pt,onParsedValueChanged:Ce}),J=Z({min:null,max:null}),j=Z({min:null,max:null}),Q=R(()=>`${i.value.year()} ${V("el.datepicker.year")} ${V(`el.datepicker.month${i.value.month()+1}`)}`),re=R(()=>`${d.value.year()} ${V("el.datepicker.year")} ${V(`el.datepicker.month${d.value.month()+1}`)}`),U=R(()=>i.value.year()),ae=R(()=>i.value.month()),me=R(()=>d.value.year()),be=R(()=>d.value.month()),H=R(()=>!!O.value.length),A=R(()=>J.value.min!==null?J.value.min:s.value?s.value.format(S.value):""),o=R(()=>J.value.max!==null?J.value.max:v.value||s.value?(v.value||s.value).format(S.value):""),k=R(()=>j.value.min!==null?j.value.min:s.value?s.value.format(l.value):""),N=R(()=>j.value.max!==null?j.value.max:v.value||s.value?(v.value||s.value).format(l.value):""),l=R(()=>Zt(y)),S=R(()=>qt(y)),E=()=>{i.value=i.value.subtract(1,"year"),n.unlinkPanels||(d.value=i.value.add(1,"month")),ye("year")},X=()=>{i.value=i.value.subtract(1,"month"),n.unlinkPanels||(d.value=i.value.add(1,"month")),ye("month")},ee=()=>{n.unlinkPanels?d.value=d.value.add(1,"year"):(i.value=i.value.add(1,"year"),d.value=i.value.add(1,"month")),ye("year")},de=()=>{n.unlinkPanels?d.value=d.value.add(1,"month"):(i.value=i.value.add(1,"month"),d.value=i.value.add(1,"month")),ye("month")},le=()=>{i.value=i.value.add(1,"year"),ye("year")},ue=()=>{i.value=i.value.add(1,"month"),ye("month")},se=()=>{d.value=d.value.subtract(1,"year"),ye("year")},Se=()=>{d.value=d.value.subtract(1,"month"),ye("month")},ye=I=>{u("panel-change",[i.value.toDate(),d.value.toDate()],I)},$e=R(()=>{const I=(ae.value+1)%12,Y=ae.value+1>=12?1:0;return n.unlinkPanels&&new Date(U.value+Y,I)<new Date(me.value,be.value)}),De=R(()=>n.unlinkPanels&&me.value*12+be.value-(U.value*12+ae.value+1)>=12),Oe=R(()=>!(s.value&&v.value&&!x.value.selecting&&Pt([s.value,v.value]))),xe=R(()=>n.type==="datetime"||n.type==="datetimerange"),Fe=(I,Y)=>{if(I)return w?G(w[Y]||w).locale(b.value).year(I.year()).month(I.month()).date(I.date()):I},tt=(I,Y=!0)=>{const t=I.minDate,$=I.maxDate,te=Fe(t,0),pe=Fe($,1);v.value===pe&&s.value===te||(u("calendar-change",[t.toDate(),$&&$.toDate()]),v.value=pe,s.value=te,!(!Y||xe.value)&&B())},Re=Z(!1),ne=Z(!1),Xe=()=>{Re.value=!1},Ue=()=>{ne.value=!1},He=(I,Y)=>{J.value[Y]=I;const t=G(I,S.value).locale(b.value);if(t.isValid()){if(p&&p(t.toDate()))return;Y==="min"?(i.value=t,s.value=(s.value||i.value).year(t.year()).month(t.month()).date(t.date()),!n.unlinkPanels&&(!v.value||v.value.isBefore(s.value))&&(d.value=t.add(1,"month"),v.value=s.value.add(1,"month"))):(d.value=t,v.value=(v.value||d.value).year(t.year()).month(t.month()).date(t.date()),!n.unlinkPanels&&(!s.value||s.value.isAfter(v.value))&&(i.value=t.subtract(1,"month"),s.value=v.value.subtract(1,"month")))}},Ae=(I,Y)=>{J.value[Y]=null},Le=(I,Y)=>{j.value[Y]=I;const t=G(I,l.value).locale(b.value);t.isValid()&&(Y==="min"?(Re.value=!0,s.value=(s.value||i.value).hour(t.hour()).minute(t.minute()).second(t.second()),(!v.value||v.value.isBefore(s.value))&&(v.value=s.value)):(ne.value=!0,v.value=(v.value||d.value).hour(t.hour()).minute(t.minute()).second(t.second()),d.value=v.value,v.value&&v.value.isBefore(s.value)&&(s.value=v.value)))},at=(I,Y)=>{j.value[Y]=null,Y==="min"?(i.value=s.value,Re.value=!1):(d.value=v.value,ne.value=!1)},nt=(I,Y,t)=>{j.value.min||(I&&(i.value=I,s.value=(s.value||i.value).hour(I.hour()).minute(I.minute()).second(I.second())),t||(Re.value=Y),(!v.value||v.value.isBefore(s.value))&&(v.value=s.value,d.value=I))},je=(I,Y,t)=>{j.value.max||(I&&(d.value=I,v.value=(v.value||d.value).hour(I.hour()).minute(I.minute()).second(I.second())),t||(ne.value=Y),v.value&&v.value.isBefore(s.value)&&(s.value=v.value))},c=()=>{i.value=ca(e(D),{lang:e(b),unit:"month",unlinkPanels:n.unlinkPanels})[0],d.value=i.value.add(1,"month"),u("pick",null)},T=I=>Me(I)?I.map(Y=>Y.format(y)):I.format(y),L=I=>Me(I)?I.map(Y=>G(Y,y).locale(b.value)):G(I,y).locale(b.value);function Ce(I,Y){if(n.unlinkPanels&&Y){const t=(I==null?void 0:I.year())||0,$=(I==null?void 0:I.month())||0,te=Y.year(),pe=Y.month();d.value=t===te&&$===pe?Y.add(1,pt):Y}else d.value=i.value.add(1,pt),Y&&(d.value=d.value.hour(Y.hour()).minute(Y.minute()).second(Y.second()))}return u("set-picker-option",["isValidValue",Pt]),u("set-picker-option",["parseUserInput",L]),u("set-picker-option",["formatToString",T]),u("set-picker-option",["handleClear",c]),(I,Y)=>(_(),K("div",{class:h([e(M).b(),e(f).b(),{"has-sidebar":I.$slots.sidebar||e(H),"has-time":e(xe)}])},[z("div",{class:h(e(M).e("body-wrapper"))},[it(I.$slots,"sidebar",{class:h(e(M).e("sidebar"))}),e(H)?(_(),K("div",{key:0,class:h(e(M).e("sidebar"))},[(_(!0),K(ke,null,_e(e(O),(t,$)=>(_(),K("button",{key:$,type:"button",class:h(e(M).e("shortcut")),onClick:te=>e(F)(t)},fe(t.text),11,qn))),128))],2)):ve("v-if",!0),z("div",{class:h(e(M).e("body"))},[e(xe)?(_(),K("div",{key:0,class:h(e(f).e("time-header"))},[z("span",{class:h(e(f).e("editors-wrap"))},[z("span",{class:h(e(f).e("time-picker-wrap"))},[W(e(Qe),{size:"small",disabled:e(x).selecting,placeholder:e(V)("el.datepicker.startDate"),class:h(e(f).e("editor")),"model-value":e(A),"validate-event":!1,onInput:Y[0]||(Y[0]=t=>He(t,"min")),onChange:Y[1]||(Y[1]=t=>Ae(t,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),Ee((_(),K("span",{class:h(e(f).e("time-picker-wrap"))},[W(e(Qe),{size:"small",class:h(e(f).e("editor")),disabled:e(x).selecting,placeholder:e(V)("el.datepicker.startTime"),"model-value":e(k),"validate-event":!1,onFocus:Y[2]||(Y[2]=t=>Re.value=!0),onInput:Y[3]||(Y[3]=t=>Le(t,"min")),onChange:Y[4]||(Y[4]=t=>at(t,"min"))},null,8,["class","disabled","placeholder","model-value"]),W(e(Mt),{visible:Re.value,format:e(l),"datetime-role":"start","time-arrow-control":e(g),"parsed-value":i.value,onPick:nt},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Ct),Xe]])],2),z("span",null,[W(e(he),null,{default:oe(()=>[W(e(mt))]),_:1})]),z("span",{class:h([e(f).e("editors-wrap"),"is-right"])},[z("span",{class:h(e(f).e("time-picker-wrap"))},[W(e(Qe),{size:"small",class:h(e(f).e("editor")),disabled:e(x).selecting,placeholder:e(V)("el.datepicker.endDate"),"model-value":e(o),readonly:!e(s),"validate-event":!1,onInput:Y[5]||(Y[5]=t=>He(t,"max")),onChange:Y[6]||(Y[6]=t=>Ae(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),Ee((_(),K("span",{class:h(e(f).e("time-picker-wrap"))},[W(e(Qe),{size:"small",class:h(e(f).e("editor")),disabled:e(x).selecting,placeholder:e(V)("el.datepicker.endTime"),"model-value":e(N),readonly:!e(s),"validate-event":!1,onFocus:Y[7]||(Y[7]=t=>e(s)&&(ne.value=!0)),onInput:Y[8]||(Y[8]=t=>Le(t,"max")),onChange:Y[9]||(Y[9]=t=>at(t,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),W(e(Mt),{"datetime-role":"end",visible:ne.value,format:e(l),"time-arrow-control":e(g),"parsed-value":d.value,onPick:je},null,8,["visible","format","time-arrow-control","parsed-value"])],2)),[[e(Ct),Ue]])],2)],2)):ve("v-if",!0),z("div",{class:h([[e(M).e("content"),e(f).e("content")],"is-left"])},[z("div",{class:h(e(f).e("header"))},[z("button",{type:"button",class:h([e(M).e("icon-btn"),"d-arrow-left"]),onClick:E},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],2),z("button",{type:"button",class:h([e(M).e("icon-btn"),"arrow-left"]),onClick:X},[W(e(he),null,{default:oe(()=>[W(e(Dt))]),_:1})],2),I.unlinkPanels?(_(),K("button",{key:0,type:"button",disabled:!e(De),class:h([[e(M).e("icon-btn"),{"is-disabled":!e(De)}],"d-arrow-right"]),onClick:le},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],10,Zn)):ve("v-if",!0),I.unlinkPanels?(_(),K("button",{key:1,type:"button",disabled:!e($e),class:h([[e(M).e("icon-btn"),{"is-disabled":!e($e)}],"arrow-right"]),onClick:ue},[W(e(he),null,{default:oe(()=>[W(e(mt))]),_:1})],10,Jn)):ve("v-if",!0),z("div",null,fe(e(Q)),1)],2),W(_t,{"selection-mode":"range",date:i.value,"min-date":e(s),"max-date":e(v),"range-state":e(x),"disabled-date":e(p),"cell-class-name":e(m),onChangerange:e(P),onPick:tt,onSelect:e(q)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),z("div",{class:h([[e(M).e("content"),e(f).e("content")],"is-right"])},[z("div",{class:h(e(f).e("header"))},[I.unlinkPanels?(_(),K("button",{key:0,type:"button",disabled:!e(De),class:h([[e(M).e("icon-btn"),{"is-disabled":!e(De)}],"d-arrow-left"]),onClick:se},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],10,Xn)):ve("v-if",!0),I.unlinkPanels?(_(),K("button",{key:1,type:"button",disabled:!e($e),class:h([[e(M).e("icon-btn"),{"is-disabled":!e($e)}],"arrow-left"]),onClick:Se},[W(e(he),null,{default:oe(()=>[W(e(Dt))]),_:1})],10,Qn)):ve("v-if",!0),z("button",{type:"button",class:h([e(M).e("icon-btn"),"d-arrow-right"]),onClick:ee},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],2),z("button",{type:"button",class:h([e(M).e("icon-btn"),"arrow-right"]),onClick:de},[W(e(he),null,{default:oe(()=>[W(e(mt))]),_:1})],2),z("div",null,fe(e(re)),1)],2),W(_t,{"selection-mode":"range",date:d.value,"min-date":e(s),"max-date":e(v),"range-state":e(x),"disabled-date":e(p),"cell-class-name":e(m),onChangerange:e(P),onPick:tt,onSelect:e(q)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),e(xe)?(_(),K("div",{key:0,class:h(e(M).e("footer"))},[e(C)?(_(),we(e(bt),{key:0,text:"",size:"small",class:h(e(M).e("link-btn")),onClick:c},{default:oe(()=>[Ge(fe(e(V)("el.datepicker.clear")),1)]),_:1},8,["class"])):ve("v-if",!0),W(e(bt),{plain:"",size:"small",class:h(e(M).e("link-btn")),disabled:e(Oe),onClick:Y[10]||(Y[10]=t=>e(B)(!1))},{default:oe(()=>[Ge(fe(e(V)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):ve("v-if",!0)],2))}});var tl=ze(el,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-date-range.vue"]]);const al=Pe({...ua}),nl=["pick","set-picker-option"],ll=({unlinkPanels:r,leftDate:u,rightDate:n})=>{const{t:a}=Ke(),p=()=>{u.value=u.value.subtract(1,"year"),r.value||(n.value=n.value.subtract(1,"year"))},m=()=>{r.value||(u.value=u.value.add(1,"year")),n.value=n.value.add(1,"year")},y=()=>{u.value=u.value.add(1,"year")},w=()=>{n.value=n.value.subtract(1,"year")},g=R(()=>`${u.value.year()} ${a("el.datepicker.year")}`),C=R(()=>`${n.value.year()} ${a("el.datepicker.year")}`),O=R(()=>u.value.year()),D=R(()=>n.value.year()===u.value.year()?u.value.year()+1:n.value.year());return{leftPrevYear:p,rightNextYear:m,leftNextYear:y,rightPrevYear:w,leftLabel:g,rightLabel:C,leftYear:O,rightYear:D}},sl=["onClick"],ol=["disabled"],rl=["disabled"],vt="year",ul=Ve({name:"DatePickerMonthRange"}),il=Ve({...ul,props:al,emits:nl,setup(r,{emit:u}){const n=r,{lang:a}=Ke(),p=qe("EP_PICKER_BASE"),{shortcuts:m,disabledDate:y,format:w}=p.props,g=rt(p.props,"defaultValue"),C=Z(G().locale(a.value)),O=Z(G().locale(a.value).add(1,vt)),{minDate:D,maxDate:b,rangeState:i,ppNs:d,drpNs:s,handleChangeRange:v,handleRangeConfirm:x,handleShortcutClick:M,onSelect:f}=da(n,{defaultValue:g,leftDate:C,rightDate:O,unit:vt,onParsedValueChanged:be}),P=R(()=>!!m.length),{leftPrevYear:B,rightNextYear:F,leftNextYear:q,rightPrevYear:V,leftLabel:J,rightLabel:j,leftYear:Q,rightYear:re}=ll({unlinkPanels:rt(n,"unlinkPanels"),leftDate:C,rightDate:O}),U=R(()=>n.unlinkPanels&&re.value>Q.value+1),ae=(H,A=!0)=>{const o=H.minDate,k=H.maxDate;b.value===k&&D.value===o||(b.value=k,D.value=o,A&&x())},me=H=>H.map(A=>A.format(w));function be(H,A){if(n.unlinkPanels&&A){const o=(H==null?void 0:H.year())||0,k=A.year();O.value=o===k?A.add(1,vt):A}else O.value=C.value.add(1,vt)}return u("set-picker-option",["formatToString",me]),(H,A)=>(_(),K("div",{class:h([e(d).b(),e(s).b(),{"has-sidebar":!!H.$slots.sidebar||e(P)}])},[z("div",{class:h(e(d).e("body-wrapper"))},[it(H.$slots,"sidebar",{class:h(e(d).e("sidebar"))}),e(P)?(_(),K("div",{key:0,class:h(e(d).e("sidebar"))},[(_(!0),K(ke,null,_e(e(m),(o,k)=>(_(),K("button",{key:k,type:"button",class:h(e(d).e("shortcut")),onClick:N=>e(M)(o)},fe(o.text),11,sl))),128))],2)):ve("v-if",!0),z("div",{class:h(e(d).e("body"))},[z("div",{class:h([[e(d).e("content"),e(s).e("content")],"is-left"])},[z("div",{class:h(e(s).e("header"))},[z("button",{type:"button",class:h([e(d).e("icon-btn"),"d-arrow-left"]),onClick:A[0]||(A[0]=(...o)=>e(B)&&e(B)(...o))},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],2),H.unlinkPanels?(_(),K("button",{key:0,type:"button",disabled:!e(U),class:h([[e(d).e("icon-btn"),{[e(d).is("disabled")]:!e(U)}],"d-arrow-right"]),onClick:A[1]||(A[1]=(...o)=>e(q)&&e(q)(...o))},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],10,ol)):ve("v-if",!0),z("div",null,fe(e(J)),1)],2),W($t,{"selection-mode":"range",date:C.value,"min-date":e(D),"max-date":e(b),"range-state":e(i),"disabled-date":e(y),onChangerange:e(v),onPick:ae,onSelect:e(f)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),z("div",{class:h([[e(d).e("content"),e(s).e("content")],"is-right"])},[z("div",{class:h(e(s).e("header"))},[H.unlinkPanels?(_(),K("button",{key:0,type:"button",disabled:!e(U),class:h([[e(d).e("icon-btn"),{"is-disabled":!e(U)}],"d-arrow-left"]),onClick:A[2]||(A[2]=(...o)=>e(V)&&e(V)(...o))},[W(e(he),null,{default:oe(()=>[W(e(ct))]),_:1})],10,rl)):ve("v-if",!0),z("button",{type:"button",class:h([e(d).e("icon-btn"),"d-arrow-right"]),onClick:A[3]||(A[3]=(...o)=>e(F)&&e(F)(...o))},[W(e(he),null,{default:oe(()=>[W(e(dt))]),_:1})],2),z("div",null,fe(e(j)),1)],2),W($t,{"selection-mode":"range",date:O.value,"min-date":e(D),"max-date":e(b),"range-state":e(i),"disabled-date":e(y),onChangerange:e(v),onPick:ae,onSelect:e(f)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var cl=ze(il,[["__file","/home/runner/work/element-plus/element-plus/packages/components/date-picker/src/date-picker-com/panel-month-range.vue"]]);const dl=function(r){switch(r){case"daterange":case"datetimerange":return tl;case"monthrange":return cl;default:return Hn}};G.extend(Qa);G.extend(tn);G.extend(Ya);G.extend(nn);G.extend(sn);G.extend(rn);G.extend(cn);G.extend(fn);var fl=Ve({name:"ElDatePicker",install:null,props:pn,emits:["update:modelValue"],setup(r,{expose:u,emit:n,slots:a}){const p=Te("picker-panel");wt("ElPopperOptions",$a(rt(r,"popperOptions"))),wt(Vt,{slots:a,pickerNs:p});const m=Z();u({focus:(g=!0)=>{var C;(C=m.value)==null||C.focus(g)},handleOpen:()=>{var g;(g=m.value)==null||g.handleOpen()},handleClose:()=>{var g;(g=m.value)==null||g.handleClose()}});const w=g=>{n("update:modelValue",g)};return()=>{var g;const C=(g=r.format)!=null?g:Ra[r.type]||st,O=dl(r.type);return W(Ba,Kt(r,{format:C,type:r.type,ref:m,"onUpdate:modelValue":w}),{default:D=>W(O,D,null),"range-separator":a["range-separator"]})}}});const ht=fl;ht.install=r=>{r.component(ht.name,ht)};const yl=ht;export{yl as E};
