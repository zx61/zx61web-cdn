import{d as Q,u as z,r as U,bd as P,v as T,e as G,ad as H,C as K,o as p,c as h,b as N,t as c,f as t,g as u,w as s,k as o,j as b,i as v,F as w,l as S,q as X,E as B,be as Z,z as ee,J as te,p as ae,a as ne,bf as se,B as le,_ as oe}from"./chunk-BtNdwCXR.js";import{E as re}from"./chunk-BGIAtEi4.js";import{a as ie,E as ce}from"./chunk-5a3O7lrP.js";import{E as ue}from"./chunk-C_ZwkRI7.js";import{d as de,a as me}from"./chunk-PNoOraMr.js";import{m as $,b as pe,p as fe,a as ge,o as be,w as _e,c as ve,h as ye,d as Ce,s as Ie,g as ke,e as Ee,i as A,f as Ue}from"./chunk-BWQCOGv1.js";import"./chunk-BB_Ol6Sd.js";import"./chunk-DqYcyQSb.js";import"./chunk-TjtMyIiI.js";import"./chunk-2xg8oZUU.js";import"./chunk-BsSrTOlZ.js";const D=y=>(ae("data-v-d5ff1708"),y=y(),ne(),y),he=D(()=>N("br",null,null,-1)),we=D(()=>N("br",null,null,-1)),Ne=Q({__name:"index",setup(y){const m=z(),x=U({className:"myAvatar2",...m.getUserItem("avatar")}),g=m.getUserItem("type")&&m.getUserItem("type")!="subAccount",F=P(se,x),{t:a}=T.useI18n(),r=G({userName:"",avatar:{},profile:"",bindingErc20:""}),C=U(!1);let _;const I=U(!1),V={mainnet:$,bsc:pe,polygon:fe,arbitrum:ge,okc:be},k={metaMask:"MetaMask",walletConnect:"WalletConnect",coinbase:"Coinbase",injected:"Injected"};H(()=>{r.userName=m.getUserItem("userName"),r.avatar=m.getUserItem("avatar"),r.profile=m.getUserItem("profile"),r.bindingErc20=m.getUserItem("bindingErc20")});const O=l=>{I.value=!1,l=="mainnet"?_=$:_=V[l];const f=_e({projectId:le});M(f)},R=l=>{if(C.value=!1,l==k.walletConnect)I.value=!0;else{let e;switch(e=A(),l){case k.metaMask:e=A({target:"metaMask"});break;case k.coinbase:e=Ue({appName:"QueJinQiu"});break}M(e)}},M=l=>{const e=Math.random().toString(36).slice(-6),f="bind to quejinqiu "+e,i=ve({chains:[_],connectors:[l],transports:{[_.id]:ye()}});Ce(i,{chainId:_.id,connector:l}).then(async()=>{Ie(i,{message:f}).then(async d=>{r.bindingErc20=ke(i).address,Ee(i),E("bindingErc20",d,e)})})},W=()=>{r.avatar=X(),x.value={className:"myAvatar2",...r.avatar}},E=async(l,e,f)=>{if(l=="userName"&&!me(r[l])){B.warning(a("login.errorEmailOrUserName"));return}let i;i={type:l,value:r[l],sign:e,salt:f};const d=await Z(i);d.data.msg?(B.error(d.data.msg),r[l]=m.getUserItem(l)):m.setUserItem(l,d.data.data)};return(l,e)=>{const f=ue,i=ee,d=ie,Y=K("Refresh"),q=te,J=ce,j=re;return p(),h(w,null,[N("h1",null,c(t(a)("menu.myResume")),1),he,we,u(J,{class:"resumeForm","label-width":"100px"},{default:s(()=>[u(d,{label:t(a)("login.userName")},{default:s(()=>[u(f,{style:{width:"200px"},modelValue:r.userName,"onUpdate:modelValue":e[0]||(e[0]=n=>r.userName=n),disabled:!t(g)},null,8,["modelValue","disabled"]),o("    "),t(g)?(p(),b(i,{key:0,type:"primary",onClick:e[1]||(e[1]=n=>E("userName"))},{default:s(()=>[o(c(t(a)("utils.save")),1)]),_:1})):v("",!0),o("    "+c(t(a)("account.weeklyChange")),1)]),_:1},8,["label"]),u(d,{label:t(a)("account.avatar")},{default:s(()=>[u(t(F)),o("    "),t(g)?(p(),b(i,{key:0,type:"success",text:"",onClick:e[2]||(e[2]=n=>W())},{default:s(()=>[u(q,null,{default:s(()=>[u(Y)]),_:1}),o("   "+c(t(a)("account.randomNew")),1)]),_:1})):v("",!0),o("    "),t(g)?(p(),b(i,{key:1,type:"primary",onClick:e[3]||(e[3]=n=>E("avatar"))},{default:s(()=>[o(c(t(a)("utils.save")),1)]),_:1})):v("",!0)]),_:1},8,["label"]),u(d,{label:t(a)("account.profile")},{default:s(()=>[u(f,{modelValue:r.profile,"onUpdate:modelValue":e[4]||(e[4]=n=>r.profile=n),rows:3,type:"textarea","show-word-limit":"",maxlength:"80",disabled:!t(g)},null,8,["modelValue","disabled"]),t(g)?(p(),b(i,{key:0,type:"primary",style:{"margin-top":"10px"},onClick:e[5]||(e[5]=n=>E("profile"))},{default:s(()=>[o(c(t(a)("utils.save")),1)]),_:1})):v("",!0)]),_:1},8,["label"]),u(d,{label:t(a)("account.bindingErc20")},{default:s(()=>[o(c(r.bindingErc20)+"   ",1),t(g)?(p(),b(i,{key:0,type:"primary",onClick:e[6]||(e[6]=n=>C.value=!0)},{default:s(()=>[o(c(t(a)("account.changeBindingErc20")),1)]),_:1})):v("",!0),o("    "+c(t(a)("account.onlyLogin"))+"    "+c(t(a)("account.monthChange")),1)]),_:1},8,["label"]),u(d,{label:t(a)("account.authority")},{default:s(()=>[o(c(t(m).getUserItem("authorityCN")),1)]),_:1},8,["label"]),u(d,{label:t(a)("utils.birthday")},{default:s(()=>[o(c(t(de)(Number(t(m).getUserItem("birthday"))).format("YYYY-MM-DD")),1)]),_:1},8,["label"]),u(d,{label:t(a)("login.email")},{default:s(()=>[o(c(t(m).getUserItem("email")),1)]),_:1},8,["label"])]),_:1}),u(j,{modelValue:C.value,"onUpdate:modelValue":e[7]||(e[7]=n=>C.value=n),"align-center":"","destroy-on-close":"",style:{"max-width":"580px"}},{default:s(()=>[(p(!0),h(w,null,S(Object.values(k),n=>(p(),b(i,{class:"el-button2",type:"success",onClick:L=>R(n)},{default:s(()=>[o(c(n),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["modelValue"]),u(j,{"align-center":"","destroy-on-close":"",title:t(a)("login.selectChain"),modelValue:I.value,"onUpdate:modelValue":e[8]||(e[8]=n=>I.value=n),style:{"max-width":"480px"}},{default:s(()=>[(p(!0),h(w,null,S(Object.keys(V),n=>(p(),b(i,{class:"el-button2",color:"#626aef",plain:"",onClick:L=>O(n)},{default:s(()=>[o(c(n),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["title","modelValue"])],64)}}}),Re=oe(Ne,[["__scopeId","data-v-d5ff1708"]]);export{Re as default};
