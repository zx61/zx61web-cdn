import{e as L,u as S,s as V,D as C,o as p,c as h,b as n,t as _,g as t,i as l,w as s,q as D,p as F,a as M,v as f,j as c,l as v,k as W,_ as q}from"./chunk-a0f4f340.js";import{a as T,D as j,e as G,f as H,E as P}from"./chunk-9b8029c3.js";import{_ as J}from"./chunk-92cfb116.js";const $=i=>/^[a-zA-Z0-9_.-]+@[a-zA-Z0-9-]+(\.[a-zA-Z0-9]{2,})+$/.test(i),K=i=>/^[a-zA-Z][-_a-zA-Z0-9]{5,19}$/.test(i),k=i=>/^(?![a-zA-Z]+$)(?![A-Z0-9]+$)(?![A-Z\W_!@#$%^&*`~()-+=]+$)(?![a-z0-9]+$)(?![a-z\W_!@#$%^&*`~()-+=]+$)(?![0-9\W_!@#$%^&*`~()-+=]+$)[a-zA-Z0-9\W_!@#$%^&*`~()-+=]/.test(i),Q=i=>(F("data-v-0a40ce0f"),i=i(),M(),i),X={class:"bigBox"},Y={class:"box",ref:"box"},ee={class:"pre-box"},re={class:"text_markedness"},oe=Q(()=>n("div",{class:"img-box"},[n("img",{src:J,id:"avatar"})],-1)),te={class:"login-form"},ae={class:"formLogin"},le={target:"_blank",href:"/documents/privacyPolicy",style:{"text-decoration":"none"}},se={target:"_blank",href:"/documents/serviceAgreement",style:{"text-decoration":"none"}},ne=L({__name:"index",setup(i){var U;const{t:r}=S(),A=D(),x=V(!1),d=V(!1),N=V(),u=C({emailOrUserName:"",password:"",rePassword:"",inviteCode:((U=A.currentRoute.value.query.inviteCode)==null?void 0:U.toString())||""}),O=C({emailOrUserName:[{validator:(g,e,o)=>{e===""&&o(new Error(r("login.emailOrUserNameNull"))),d.value&&($(e)||o(new Error(r("login.errorEmail")))),d.value||!$(e)&&!K(e)&&o(new Error(r("login.errorEmailOrUserName"))),o()},trigger:"blur"}],password:[{validator:(g,e,o)=>{e===""&&o(new Error(r("login.passwordNull"))),k(e)||o(new Error(r("login.errorPassword"))),o()},trigger:"blur"}],rePassword:[{validator:(g,e,o)=>{e===""&&o(new Error(r("login.passwordNull"))),k(e)||o(new Error(r("login.errorPassword"))),e!=u.password&&o(new Error(r("login.eeSetPasswordNotMatch"))),o()},trigger:"blur"}],inviteCode:[{validator:(g,e,o)=>{e===""&&o(new Error(r("login.inviteCodeNull"))),o()},trigger:"blur"}]}),w=()=>x.value?!0:(P.error(r("login.readUserAgreement")),!1),E=async()=>{var e;return await((e=N.value)==null?void 0:e.validate(o=>(o||P.error(r("login.errorData")),o)))},R=async()=>{w()&&await E()},z=async()=>{w()&&await E()},I=()=>{w()},Z=async()=>{w()&&await E()};return(g,e)=>{const o=j,m=G,y=H,b=W,B=T;return p(),h("div",X,[n("div",Y,[n("div",ee,[n("h1",null,_(t(r)("login.welcoming")),1),n("div",re,_(t(r)("login.announcement")),1),oe]),n("div",te,[n("h1",null,_(t(r)("utils.login")),1),n("div",ae,[l(B,{"label-width":"100px",model:u,rules:O,ref_key:"loginFormRef",ref:N},{default:s(()=>[l(m,null,{default:s(()=>[l(o,{modelValue:d.value,"onUpdate:modelValue":e[0]||(e[0]=a=>d.value=a),label:t(r)("login.toRegister")},null,8,["modelValue","label"])]),_:1}),l(m,{label:d.value?t(r)("utils.email"):t(r)("utils.emailOrUserName"),prop:"emailOrUserName"},{default:s(()=>[l(y,{modelValue:u.emailOrUserName,"onUpdate:modelValue":e[1]||(e[1]=a=>u.emailOrUserName=a)},null,8,["modelValue"])]),_:1},8,["label"]),l(m,{label:t(r)("utils.password"),prop:"password"},{default:s(()=>[l(y,{modelValue:u.password,"onUpdate:modelValue":e[2]||(e[2]=a=>u.password=a),type:"password"},null,8,["modelValue"])]),_:1},8,["label"]),d.value?(p(),f(m,{key:0,label:t(r)("utils.rePassword"),prop:"rePassword"},{default:s(()=>[l(y,{modelValue:u.rePassword,"onUpdate:modelValue":e[3]||(e[3]=a=>u.rePassword=a),type:"password"},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),d.value?(p(),f(m,{key:1,label:t(r)("utils.inviteCode"),prop:"inviteCode"},{default:s(()=>[l(y,{modelValue:u.inviteCode,"onUpdate:modelValue":e[4]||(e[4]=a=>u.inviteCode=a)},null,8,["modelValue"])]),_:1},8,["label"])):c("",!0),l(m,null,{default:s(()=>[l(o,{modelValue:x.value,"onUpdate:modelValue":e[5]||(e[5]=a=>x.value=a),label:t(r)("login.checkboxText")},null,8,["modelValue","label"]),n("a",le," 【"+_(t(r)("login.privacyPolicy"))+"】 ",1),v(" 和 "),n("a",se," 【"+_(t(r)("login.serviceAgreement"))+"】 ",1)]),_:1}),d.value?c("",!0):(p(),f(m,{key:2},{default:s(()=>[l(b,{type:"primary",onClick:e[6]||(e[6]=a=>R())},{default:s(()=>[v("   "+_(t(r)("utils.login"))+"    ",1)]),_:1}),l(b,{type:"primary",onClick:e[7]||(e[7]=a=>z())},{default:s(()=>[v(_(t(r)("utils.subAccountLogin")),1)]),_:1})]),_:1})),d.value?c("",!0):(p(),f(m,{key:3,label:t(r)("utils.thirdPartyLogin")},{default:s(()=>[l(b,{type:"primary",onClick:e[8]||(e[8]=a=>I())},{default:s(()=>[v(" MetaMask ")]),_:1})]),_:1},8,["label"])),d.value?(p(),f(m,{key:4},{default:s(()=>[l(b,{type:"primary",onClick:e[9]||(e[9]=a=>Z())},{default:s(()=>[v("   "+_(t(r)("utils.register"))+"   ",1)]),_:1})]),_:1})):c("",!0)]),_:1},8,["model","rules"])])])],512)])}}});const fe=q(ne,[["__scopeId","data-v-0a40ce0f"]]);export{fe as default};
