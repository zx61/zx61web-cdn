import{d as z,u as J,r as U,b9 as P,v as T,e as G,aa as H,C as K,o as p,c as h,b as N,t as c,f as a,g as u,w as s,k as o,j as b,i as v,F as w,l as S,q as X,E as B,ba as Z,z as ee,L as ae,p as te,a as ne,bb as se,B as le,_ as oe}from"./chunk-CTl_Mh-K.js";import{E as re}from"./chunk-Ckzt31hw.js";import{a as ie,E as ce}from"./chunk-C_Xgx1_0.js";import{E as ue}from"./chunk-BD0vofqh.js";import{d as me,a as de}from"./chunk-DlNUhDy_.js";import{m as $,b as pe,p as fe,a as ge,o as be,w as _e,c as ve,h as ye,d as Ce,s as Ie,g as ke,e as Ee,i as A,f as Ue}from"./chunk-B_Oiq232.js";import"./chunk-BB_Ol6Sd.js";import"./chunk-D-TwOPn4.js";import"./chunk-BmhojaPT.js";const D=y=>(te("data-v-68f8f7c3"),y=y(),ne(),y),he=D(()=>N("br",null,null,-1)),we=D(()=>N("br",null,null,-1)),Ne=z({__name:"index",setup(y){const d=J(),x=U({className:"myAvatar2",...d.getUserItem("avatar")}),g=d.getUserItem("type")&&d.getUserItem("type")!="subAccount",F=P(se,x),{t}=T.useI18n(),r=G({userName:"",avatar:{},profile:"",bindingErc20:""}),C=U(!1);let _;const I=U(!1),V={mainnet:$,bsc:pe,polygon:fe,arbitrum:ge,okc:be},k={metaMask:"MetaMask",walletConnect:"WalletConnect",coinbase:"Coinbase",injected:"Injected"};H(()=>{r.userName=d.getUserItem("userName"),r.avatar=d.getUserItem("avatar"),r.profile=d.getUserItem("profile"),r.bindingErc20=d.getUserItem("bindingErc20")});const O=l=>{I.value=!1,l=="mainnet"?_=$:_=V[l];const f=_e({projectId:le});M(f)},R=l=>{if(C.value=!1,l==k.walletConnect)I.value=!0;else{let e;switch(e=A(),l){case k.metaMask:e=A({target:"metaMask"});break;case k.coinbase:e=Ue({appName:"QueJinQiu"});break}M(e)}},M=l=>{const e=Math.random().toString(36).slice(-6),f="bind to quejinqiu "+e,i=ve({chains:[_],connectors:[l],transports:{[_.id]:ye()}});Ce(i,{chainId:_.id,connector:l}).then(async()=>{Ie(i,{message:f}).then(async m=>{r.bindingErc20=ke(i).address,Ee(i),E("bindingErc20",m,e)})})},W=()=>{r.avatar=X(),x.value={className:"myAvatar2",...r.avatar}},E=async(l,e,f)=>{if(l=="userName"&&!de(r[l])){B.warning(t("login.errorEmailOrUserName"));return}let i;i={type:l,value:r[l],sign:e,salt:f};const m=await Z(i);m.data.msg?(B.error(m.data.msg),r[l]=d.getUserItem(l)):d.setUserItem(l,m.data.data)};return(l,e)=>{const f=ue,i=ee,m=ie,Y=K("Refresh"),q=ae,L=ce,j=re;return p(),h(w,null,[N("h1",null,c(a(t)("menu.myResume")),1),he,we,u(L,{class:"resumeForm","label-width":"100px"},{default:s(()=>[u(m,{label:a(t)("login.userName")},{default:s(()=>[u(f,{style:{width:"200px"},modelValue:r.userName,"onUpdate:modelValue":e[0]||(e[0]=n=>r.userName=n),disabled:!a(g)},null,8,["modelValue","disabled"]),o("    "),a(g)?(p(),b(i,{key:0,type:"primary",onClick:e[1]||(e[1]=n=>E("userName"))},{default:s(()=>[o(c(a(t)("utils.save")),1)]),_:1})):v("",!0),o("    "+c(a(t)("account.weeklyChange")),1)]),_:1},8,["label"]),u(m,{label:a(t)("account.avatar")},{default:s(()=>[u(a(F)),o("    "),a(g)?(p(),b(i,{key:0,type:"success",text:"",onClick:e[2]||(e[2]=n=>W())},{default:s(()=>[u(q,null,{default:s(()=>[u(Y)]),_:1}),o("   "+c(a(t)("account.randomNew")),1)]),_:1})):v("",!0),o("    "),a(g)?(p(),b(i,{key:1,type:"primary",onClick:e[3]||(e[3]=n=>E("avatar"))},{default:s(()=>[o(c(a(t)("utils.save")),1)]),_:1})):v("",!0)]),_:1},8,["label"]),u(m,{label:a(t)("account.profile")},{default:s(()=>[u(f,{modelValue:r.profile,"onUpdate:modelValue":e[4]||(e[4]=n=>r.profile=n),rows:3,type:"textarea","show-word-limit":"",maxlength:"80",disabled:!a(g)},null,8,["modelValue","disabled"]),a(g)?(p(),b(i,{key:0,type:"primary",style:{"margin-top":"10px"},onClick:e[5]||(e[5]=n=>E("profile"))},{default:s(()=>[o(c(a(t)("utils.save")),1)]),_:1})):v("",!0)]),_:1},8,["label"]),u(m,{label:a(t)("account.bindingErc20")},{default:s(()=>[o(c(r.bindingErc20)+"   ",1),a(g)?(p(),b(i,{key:0,type:"primary",onClick:e[6]||(e[6]=n=>C.value=!0)},{default:s(()=>[o(c(a(t)("account.changeBindingErc20")),1)]),_:1})):v("",!0),o("    "+c(a(t)("account.onlyLogin"))+"    "+c(a(t)("account.monthChange")),1)]),_:1},8,["label"]),u(m,{label:a(t)("account.authority")},{default:s(()=>[o(c(a(d).getUserItem("authorityCN")),1)]),_:1},8,["label"]),u(m,{label:a(t)("utils.birthday")},{default:s(()=>[o(c(a(me)(Number(a(d).getUserItem("birthday"))).format("YYYY-MM-DD")),1)]),_:1},8,["label"]),u(m,{label:a(t)("login.email")},{default:s(()=>[o(c(a(d).getUserItem("email")),1)]),_:1},8,["label"])]),_:1}),u(j,{modelValue:C.value,"onUpdate:modelValue":e[7]||(e[7]=n=>C.value=n),"align-center":"","destroy-on-close":"",style:{"max-width":"520px"}},{default:s(()=>[(p(!0),h(w,null,S(Object.values(k),n=>(p(),b(i,{class:"el-button2",type:"success",onClick:Q=>R(n)},{default:s(()=>[o(c(n),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["modelValue"]),u(j,{"align-center":"","destroy-on-close":"",title:a(t)("login.selectChain"),modelValue:I.value,"onUpdate:modelValue":e[8]||(e[8]=n=>I.value=n),style:{"max-width":"480px"}},{default:s(()=>[(p(!0),h(w,null,S(Object.keys(V),n=>(p(),b(i,{class:"el-button2",color:"#626aef",plain:"",onClick:Q=>O(n)},{default:s(()=>[o(c(n),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["title","modelValue"])],64)}}}),Fe=oe(Ne,[["__scopeId","data-v-68f8f7c3"]]);export{Fe as default};
