import{d as z,u as Q,r as E,by as J,e as K,g as P,ac as T,D as G,o as p,c as x,b as h,t as i,h as t,i as u,w as n,l as o,k as f,j as v,F as N,m as B,v as H,E as D,bz as X,z as Z,K as ee,p as te,a as ae,bA as le,B as se,_ as ne}from"./chunk-a0327024.js";import{E as oe}from"./chunk-d22e67fd.js";import{a as re,E as ie}from"./chunk-84999d20.js";import{E as ue}from"./chunk-9ab6077c.js";import{d as ce,a as de}from"./chunk-bb59191b.js";import{m as U,b as me,p as pe,a as ge,o as be,W as fe,I as _e,L as ve,C as ye,M as Ce}from"./chunk-fb923cc6.js";import"./chunk-9519ab40.js";import"./chunk-1bfc73b0.js";import"./chunk-7e28eb2e.js";const W=y=>(te("data-v-6401e8b6"),y=y(),ae(),y),ke=W(()=>h("br",null,null,-1)),Ie=W(()=>h("br",null,null,-1)),we=z({__name:"index",setup(y){const m=Q(),M=E({className:"myAvatar2",...m.getUserItem("avatar")}),b=m.getUserItem("type")!="subAccount",$=J(le,M),{t:a}=K(),r=P({userName:"",avatar:{},profile:"",bindingErc20:""}),C=E(!1);let w;const k=E(!1),V={mainnet:U,bsc:me,polygon:pe,arbitrum:ge,okc:be},_={metaMask:"MetaMask",walletConnect:"WalletConnect",coinbase:"Coinbase",injected:"Injected",ledger:"Ledger"};T(()=>{r.userName=m.getUserItem("userName"),r.avatar=m.getUserItem("avatar"),r.profile=m.getUserItem("profile"),r.bindingErc20=m.getUserItem("bindingErc20")});const A=l=>{k.value=!1,l=="mainnet"?w=[U]:w=[V[l],U];const e=se,g=new fe({chains:w,options:{projectId:e}});j(g)},L=l=>{if(C.value=!1,l==_.walletConnect)k.value=!0;else{let e;switch(e=new _e,l){case _.metaMask:e=new Ce;break;case _.coinbase:e=new ye({options:{appName:"QueJinQiu"}});break;case _.ledger:e=new ve({options:{enableDebugLogs:!1}});break}j(e)}},j=l=>{l.connect().then(()=>{const e=Math.random().toString(36).slice(-6),g="bind to quejinqiu "+e;l.getWalletClient().then(c=>{c.signMessage({message:g}).then(async d=>{r.bindingErc20=c.account.address,l.disconnect(),I("bindingErc20",d,e)})})})},F=()=>{r.avatar=H(),M.value={className:"myAvatar2",...r.avatar}},I=async(l,e,g)=>{if(l=="userName"&&!de(r[l])){D.warning(a("login.errorEmailOrUserName"));return}let c;c={type:l,value:r[l],sign:e,salt:g};const d=await X(c);d.data.msg?(D.error(d.data.msg),r[l]=m.getUserItem(l)):m.setUserItem(l,d.data.data)};return(l,e)=>{const g=ue,c=Z,d=re,O=G("Refresh"),R=ee,Y=ie,S=oe;return p(),x(N,null,[h("h1",null,i(t(a)("menu.myResume")),1),ke,Ie,u(Y,{class:"resumeForm","label-width":"100px"},{default:n(()=>[u(d,{label:t(a)("utils.userName")},{default:n(()=>[u(g,{style:{width:"200px"},modelValue:r.userName,"onUpdate:modelValue":e[0]||(e[0]=s=>r.userName=s),disabled:!b},null,8,["modelValue","disabled"]),o("    "),b?(p(),f(c,{key:0,type:"primary",onClick:e[1]||(e[1]=s=>I("userName"))},{default:n(()=>[o(i(t(a)("utils.save")),1)]),_:1})):v("",!0),o("    "+i(t(a)("utils.weeklyChange")),1)]),_:1},8,["label"]),u(d,{label:t(a)("utils.avatar")},{default:n(()=>[u(t($)),o("    "),b?(p(),f(c,{key:0,type:"success",text:"",onClick:e[2]||(e[2]=s=>F())},{default:n(()=>[u(R,null,{default:n(()=>[u(O)]),_:1}),o("   "+i(t(a)("utils.randomNew")),1)]),_:1})):v("",!0),o("    "),b?(p(),f(c,{key:1,type:"primary",onClick:e[3]||(e[3]=s=>I("avatar"))},{default:n(()=>[o(i(t(a)("utils.save")),1)]),_:1})):v("",!0)]),_:1},8,["label"]),u(d,{label:t(a)("utils.profile")},{default:n(()=>[u(g,{modelValue:r.profile,"onUpdate:modelValue":e[4]||(e[4]=s=>r.profile=s),rows:3,type:"textarea","show-word-limit":"",maxlength:"80",disabled:!b},null,8,["modelValue","disabled"]),b?(p(),f(c,{key:0,type:"primary",style:{"margin-top":"10px"},onClick:e[5]||(e[5]=s=>I("profile"))},{default:n(()=>[o(i(t(a)("utils.save")),1)]),_:1})):v("",!0)]),_:1},8,["label"]),u(d,{label:t(a)("utils.bindingErc20")},{default:n(()=>[o(i(r.bindingErc20)+"   ",1),b?(p(),f(c,{key:0,type:"primary",onClick:e[6]||(e[6]=s=>C.value=!0)},{default:n(()=>[o(i(t(a)("utils.changeBindingErc20")),1)]),_:1})):v("",!0),o("    "+i(t(a)("utils.onlyLogin"))+"    "+i(t(a)("utils.monthChange")),1)]),_:1},8,["label"]),u(d,{label:t(a)("utils.authority")},{default:n(()=>[o(i(t(m).getUserItem("authorityCN")),1)]),_:1},8,["label"]),u(d,{label:t(a)("utils.birthday")},{default:n(()=>[o(i(t(ce)(t(m).getUserItem("birthday")).format("YYYY-MM-DD")),1)]),_:1},8,["label"]),u(d,{label:t(a)("utils.email")},{default:n(()=>[o(i(t(m).getUserItem("email")),1)]),_:1},8,["label"])]),_:1}),u(S,{modelValue:C.value,"onUpdate:modelValue":e[7]||(e[7]=s=>C.value=s),"align-center":"","destroy-on-close":"",style:{"max-width":"580px"}},{default:n(()=>[(p(!0),x(N,null,B(Object.values(_),s=>(p(),f(c,{class:"el-button2",type:"success",onClick:q=>L(s)},{default:n(()=>[o(i(s),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["modelValue"]),u(S,{"align-center":"","destroy-on-close":"",title:t(a)("login.selectChain"),modelValue:k.value,"onUpdate:modelValue":e[8]||(e[8]=s=>k.value=s),style:{"max-width":"480px"}},{default:n(()=>[(p(!0),x(N,null,B(Object.keys(V),s=>(p(),f(c,{class:"el-button2",color:"#626aef",plain:"",onClick:q=>A(s)},{default:n(()=>[o(i(s),1)]),_:2},1032,["onClick"]))),256))]),_:1},8,["title","modelValue"])],64)}}});const Be=ne(we,[["__scopeId","data-v-6401e8b6"]]);export{Be as default};
